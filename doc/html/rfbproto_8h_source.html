<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>LibVNCServer/LibVNCClient: rfb/rfbproto.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LibVNCServer/LibVNCClient
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ca18a36f658ac5e7156ef1e37455ed0d.html">rfb</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">rfbproto.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="rfbproto_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef RFBPROTO_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define RFBPROTO_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *  Copyright (C) 2009-2010 D. R. Commander. All Rights Reserved.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *  Copyright (C) 2005 Rohit Kumar, Johannes E. Schindelin</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *  Copyright (C) 2004-2008 Sun Microsystems, Inc. All Rights Reserved.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *  Copyright (C) 2000-2002 Constantin Kaplinsky.  All Rights Reserved.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *  Copyright (C) 2000 Tridia Corporation.  All Rights Reserved.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *  Copyright (C) 1999 AT&amp;T Laboratories Cambridge.  All Rights Reserved.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *  This is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *  the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *  (at your option) any later version.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> *  This software is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *  GNU General Public License for more details.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> *  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *  along with this software; if not, write to the Free Software</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307,</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> *  USA.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * rfbproto.h - header file for the RFB protocol version 3.3</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * Uses types CARD&lt;n&gt; for an n-bit unsigned integer, INT&lt;n&gt; for an n-bit signed</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * integer (for n = 8, 16 and 32).</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * All multiple byte integers are in big endian (network) order (most</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * significant byte first).  Unless noted otherwise there is no special</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * alignment of protocol structures.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * Once the initial handshaking is done, all messages start with a type byte,</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * (usually) followed by message-specific data.  The order of definitions in</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * this file is as follows:</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> *  (1) Structures used in several types of message.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> *  (2) Structures used in the initial handshaking.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> *  (3) Message types.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> *  (4) Encoding types.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> *  (5) For each message type, the form of the data following the type byte.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> *      Sometimes this is defined by a single structure but the more complex</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> *      messages have to be explained by comments.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#if defined(WIN32) &amp;&amp; !defined(__MINGW32__)</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LIBVNCSERVER_WORDS_BIGENDIAN</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbBool int</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;sys/timeb.h&gt;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &lt;winsock.h&gt;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#undef SOCKET</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define SOCKET int</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;rfb/rfbconfig.h&gt;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &lt;rfb/rfbint.h&gt;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#ifdef LIBVNCSERVER_HAVE_LIBZ</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;zlib.h&gt;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#ifdef __CHECKER__</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#undef Z_NULL</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define Z_NULL NULL</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/* some autotool versions do not properly prefix</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">   WORDS_BIGENDIAN, so do that manually */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#ifdef WORDS_BIGENDIAN</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LIBVNCSERVER_WORDS_BIGENDIAN</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">/* MS compilers don&#39;t have strncasecmp */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define strncasecmp _strnicmp</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#if !defined(WIN32) || defined(__MINGW32__)</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#affe776513b24d84b39af8ab0930fef7f">   96</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define max(a,b) (((a)&gt;(b))?(a):(b))</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef LIBVNCSERVER_HAVE_SYS_TIME_H</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;sys/time.h&gt;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef LIBVNCSERVER_HAVE_NETINET_IN_H</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;netinet/in.h&gt;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aff55fe551a9992a54ec54621c524d0a4">  103</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define SOCKET int</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a329f406ebc51f975c9df984a6b98c74d">  104</a></span>&#160;<span class="preprocessor"></span><span class="keyword">typedef</span> int8_t <a class="code" href="rfbproto_8h.html#a329f406ebc51f975c9df984a6b98c74d">rfbBool</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#undef FALSE</span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa93f0eb578d23995850d61f7d61c55c1">  106</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define FALSE 0</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#undef TRUE</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">  108</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define TRUE -1</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a3f1bab9e57e1615d0edc6e4bd391f2af">  111</a></span>&#160;<span class="keyword">typedef</span> uint32_t <a class="code" href="rfbproto_8h.html#a3f1bab9e57e1615d0edc6e4bd391f2af">rfbKeySym</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a5e93a27afda0ebfe453129c5a4b2544b">  112</a></span>&#160;<span class="keyword">typedef</span> uint32_t <a class="code" href="rfbproto_8h.html#a5e93a27afda0ebfe453129c5a4b2544b">rfbPixel</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#ifdef LIBVNCSERVER_NEED_INADDR_T</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor"></span><span class="keyword">typedef</span> uint32_t in_addr_t;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#ifndef INADDR_NONE</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a3d2472d6cf31b73eeb829110dd0fffea">  119</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define                INADDR_NONE     ((in_addr_t) 0xffffffff)</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a88195ac0b3955755e2601dc7077fe626">  122</a></span>&#160;<span class="preprocessor">#define MAX_ENCODINGS 21</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/*****************************************************************************</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"> * Structures used in several messages</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> *****************************************************************************/</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> * Structure used to specify a rectangle.  This structure is a multiple of 4</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> * bytes so that it can be interspersed with 32-bit pixel data without</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> * affecting alignment.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="code" href="structrfb_rectangle.html">  136</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="code" href="structrfb_rectangle.html#a4dde988b1b2adba65ae3efa69f65d960">  137</a></span>&#160;    uint16_t <a class="code" href="structrfb_rectangle.html#a4dde988b1b2adba65ae3efa69f65d960">x</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="code" href="structrfb_rectangle.html#ab0580f504a7428539be299fa71565f30">  138</a></span>&#160;    uint16_t <a class="code" href="structrfb_rectangle.html#ab0580f504a7428539be299fa71565f30">y</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="code" href="structrfb_rectangle.html#a69e28057d97f59f81862a467cc6299fc">  139</a></span>&#160;    uint16_t <a class="code" href="structrfb_rectangle.html#a69e28057d97f59f81862a467cc6299fc">w</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="code" href="structrfb_rectangle.html#a8bf5747847b23fa2d39ef956e10bfbd3">  140</a></span>&#160;    uint16_t <a class="code" href="structrfb_rectangle.html#a8bf5747847b23fa2d39ef956e10bfbd3">h</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;} <a class="code" href="structrfb_rectangle.html">rfbRectangle</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a7b0a6d0b9a5ec26a49898a589bc5f315">  143</a></span>&#160;<span class="preprocessor">#define sz_rfbRectangle 8</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"> * Structure used to specify pixel format.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html">  150</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#a6a3c851ca52ea8aa201b6753a4585736">  152</a></span>&#160;    uint8_t <a class="code" href="structrfb_pixel_format.html#a6a3c851ca52ea8aa201b6753a4585736">bitsPerPixel</a>;               <span class="comment">/* 8,16,32 only */</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#ab6f276082172be43a6041212071e377b">  154</a></span>&#160;    uint8_t <a class="code" href="structrfb_pixel_format.html#ab6f276082172be43a6041212071e377b">depth</a>;              <span class="comment">/* 8 to 32 */</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#aa7c6afc4e813120b58b1bc6a1d6215d9">  156</a></span>&#160;    uint8_t <a class="code" href="structrfb_pixel_format.html#aa7c6afc4e813120b58b1bc6a1d6215d9">bigEndian</a>;          <span class="comment">/* True if multi-byte pixels are interpreted</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">                                   as big endian, or if single-bit-per-pixel</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">                                   has most significant bit of the byte</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">                                   corresponding to first (leftmost) pixel. Of</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">                                   course this is meaningless for 8 bits/pix */</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#a75dfcca134dd82115207a928b0b8a70b">  162</a></span>&#160;    uint8_t <a class="code" href="structrfb_pixel_format.html#a75dfcca134dd82115207a928b0b8a70b">trueColour</a>;         <span class="comment">/* If false then we need a &quot;colour map&quot; to</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">                                   convert pixels to RGB.  If true, xxxMax and</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">                                   xxxShift specify bits used for red, green</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">                                   and blue */</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">/* the following fields are only meaningful if trueColour is true */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#a07ca53b709f723484418082b4511540a">  169</a></span>&#160;    uint16_t <a class="code" href="structrfb_pixel_format.html#a07ca53b709f723484418082b4511540a">redMax</a>;            <span class="comment">/* maximum red value (= 2^n - 1 where n is the</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">                                   number of bits used for red). Note this</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">                                   value is always in big endian order. */</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#a188ea8035a1b7b1c177341b6c75edae3">  173</a></span>&#160;    uint16_t <a class="code" href="structrfb_pixel_format.html#a188ea8035a1b7b1c177341b6c75edae3">greenMax</a>;          <span class="comment">/* similar for green */</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#a24b0b5716ded786484ea655d7ed1a4d1">  175</a></span>&#160;    uint16_t <a class="code" href="structrfb_pixel_format.html#a24b0b5716ded786484ea655d7ed1a4d1">blueMax</a>;           <span class="comment">/* and blue */</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#ae15e89a5090279dd2fca4453a3a3f20a">  177</a></span>&#160;    uint8_t <a class="code" href="structrfb_pixel_format.html#ae15e89a5090279dd2fca4453a3a3f20a">redShift</a>;           <span class="comment">/* number of shifts needed to get the red</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">                                   value in a pixel to the least significant</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">                                   bit. To find the red value from a given</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">                                   pixel, do the following:</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">                                   1) Swap pixel value according to bigEndian</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">                                      (e.g. if bigEndian is false and host byte</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">                                      order is big endian, then swap).</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">                                   2) Shift right by redShift.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">                                   3) AND with redMax (in host byte order).</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">                                   4) You now have the red value between 0 and</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">                                      redMax. */</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#a5f4558aed9088231e0fddf264f292d60">  189</a></span>&#160;    uint8_t <a class="code" href="structrfb_pixel_format.html#a5f4558aed9088231e0fddf264f292d60">greenShift</a>;         <span class="comment">/* similar for green */</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#aa0f291475e78e329f47c870e3a540596">  191</a></span>&#160;    uint8_t <a class="code" href="structrfb_pixel_format.html#aa0f291475e78e329f47c870e3a540596">blueShift</a>;          <span class="comment">/* and blue */</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#a25e2be7e403f0b3769563e679051c9d7">  193</a></span>&#160;    uint8_t <a class="code" href="structrfb_pixel_format.html#a25e2be7e403f0b3769563e679051c9d7">pad1</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="code" href="structrfb_pixel_format.html#a06d0aede0e856b45130b687a03806893">  194</a></span>&#160;    uint16_t <a class="code" href="structrfb_pixel_format.html#a06d0aede0e856b45130b687a03806893">pad2</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;} <a class="code" href="structrfb_pixel_format.html">rfbPixelFormat</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a5a3ff39828c6eee1296a26fa8825712e">  198</a></span>&#160;<span class="preprocessor">#define sz_rfbPixelFormat 16</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/* UltraVNC: Color settings values */</span></div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a3fe937bfb05a1a6f6cdc49c5ee1ced07">  201</a></span>&#160;<span class="preprocessor">#define rfbPFFullColors         0</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a49f46f9bc1e690289862917261c60967">  202</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbPF256Colors          1</span></div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a68b76800e65fcf1186bb318c67bddb97">  203</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbPF64Colors           2</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a0510161b84343e17aaf389f09c5b6ff4">  204</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbPF8Colors            3</span></div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a726a5a46d9b9aea65c24f26f74a1019c">  205</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbPF8GreyColors        4</span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a454e8ff82deee8cae5213877d8e0e34a">  206</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbPF4GreyColors        5</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a1ba8a15447b844da9365293b6823d3f2">  207</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbPF2GreyColors        6</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">/*****************************************************************************</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"> * Initial handshaking messages</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"> *****************************************************************************/</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> * Protocol Version</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> * The server always sends 12 bytes to start which identifies the latest RFB</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"> * protocol version number which it supports.  These bytes are interpreted</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"> * as a string of 12 ASCII characters in the format &quot;RFB xxx.yyy\n&quot; where</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"> * xxx and yyy are the major and minor version numbers (for version 3.3</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"> * this is &quot;RFB 003.003\n&quot;).</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> * The client then replies with a similar 12-byte message giving the version</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> * number of the protocol which should actually be used (which may be different</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"> * to that quoted by the server).</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"> * It is intended that both clients and servers may provide some level of</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"> * backwards compatibility by this mechanism.  Servers in particular should</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"> * attempt to provide backwards compatibility, and even forwards compatibility</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment"> * to some extent.  For example if a client demands version 3.1 of the</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"> * protocol, a 3.0 server can probably assume that by ignoring requests for</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"> * encoding types it doesn&#39;t understand, everything will still work OK.  This</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"> * will probably not be the case for changes in the major version number.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"> * The format string below can be used in sprintf or sscanf to generate or</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"> * decode the version string respectively.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a16a820ab91847c9271b9552c7fe741f6">  241</a></span>&#160;<span class="preprocessor">#define rfbProtocolVersionFormat &quot;RFB %03d.%03d\n&quot;</span></div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad5ad640fe5ebd3aa98abc6b0a0706373">  242</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbProtocolMajorVersion 3</span></div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a37b12d157844e22e89456c9ad5ed2129">  243</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbProtocolMinorVersion 8</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor"></span><span class="comment">/* UltraVNC Viewer examines rfbProtocolMinorVersion number (4, and 6)</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> * to identify if the server supports File Transfer</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a8eae52867949eb3f8b0a4ce7b90e49f6">  248</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="rfbproto_8h.html#a8eae52867949eb3f8b0a4ce7b90e49f6">rfbProtocolVersionMsg</a>[13]; <span class="comment">/* allow extra byte for null */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a829f3db5874e1f2bed94e622d2421e5d">  250</a></span>&#160;<span class="preprocessor">#define sz_rfbProtocolVersionMsg 12</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"> * Negotiation of the security type (protocol version 3.7)</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"> * Once the protocol version has been decided, the server either sends a list</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"> * of supported security types, or informs the client about an error (when the</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"> * number of security types is 0).  Security type rfbSecTypeTight is used to</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"> * enable TightVNC-specific protocol extensions.  The value rfbSecTypeVncAuth</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"> * stands for classic VNC authentication.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> * The client selects a particular security type from the list provided by the</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> * server.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2808301ebe60667b09035d43f64febb0">  265</a></span>&#160;<span class="preprocessor">#define rfbSecTypeInvalid 0</span></div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af11b20b4e1c0ff46479e0dd382b2dcc5">  266</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbSecTypeNone 1</span></div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a9deabfe583355166b6f940829461af72">  267</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbSecTypeVncAuth 2</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"> * Authentication</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"> * Once the protocol version has been decided, the server then sends a 32-bit</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"> * word indicating whether any authentication is needed on the connection.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment"> * The value of this word determines the authentication scheme in use.  For</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"> * version 3.0 of the protocol this may have one of the following values:</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae3d6f0fa5d10732f8061d1116421f356">  279</a></span>&#160;<span class="preprocessor">#define rfbConnFailed 0</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af0e5097db7df699eeae3a5b783764253">  280</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbNoAuth 1</span></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ac90111977dd85bd3e3749661eb24902f">  281</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVncAuth 2</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aff35671b6fd2c1d77458c4697324d648">  283</a></span>&#160;<span class="preprocessor">#define rfbRA2 5</span></div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad1c4379f0a35edf57ac525421c14750e">  284</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbRA2ne 6</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a12087b30236d81fc57279091f177dc99">  285</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbSSPI 7</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af2a8785234306ca7c20727ce2951b387">  286</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbSSPIne 8</span></div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4f49f94b1701bdb7cd2c9a8b39f700ed">  287</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTight 16</span></div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa9c947387eb139458144b61eee1f51ad">  288</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbUltra 17</span></div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa6509f9e41f342d6d301c9f0376a26c2">  289</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTLS 18</span></div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a1dfa7626c22ec8ff52e234c7703fb045">  290</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCrypt 19</span></div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4692b16e33fa83fdf4532ebdec8fb9d2">  291</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbARD 30</span></div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a6d58d1e4afbb434c8302647ffd8a24ce">  292</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbMSLogon 0xfffffffa</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a3d0f881da5c108c2035708a600b887d0">  294</a></span>&#160;<span class="preprocessor">#define rfbVeNCryptPlain 256</span></div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aad64da741c66f9141cdb95629d08aa36">  295</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCryptTLSNone 257</span></div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af8a1f1d9a02c756f3766f1c305e6dad2">  296</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCryptTLSVNC 258</span></div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab8e09e42367ea208fec908b49724e2f9">  297</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCryptTLSPlain 259</span></div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab7ea1353256068f56e5b8fe010e4b27d">  298</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCryptX509None 260</span></div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a36977e5db0b3a0ac8bff90705d942ece">  299</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCryptX509VNC 261</span></div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae46d272c72ea07c9d1d94623b6d2ae75">  300</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCryptX509Plain 262</span></div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aed80f166e5aed28eab47c25d8a841eed">  301</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCryptX509SASL 263</span></div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a11087bd859618c811ccf955503e39286">  302</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVeNCryptTLSSASL 264</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"> * rfbConnFailed:       For some reason the connection failed (e.g. the server</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"> *                      cannot support the desired protocol version).  This is</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"> *                      followed by a string describing the reason (where a</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> *                      string is specified as a 32-bit length followed by that</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> *                      many ASCII characters).</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> * rfbNoAuth:           No authentication is needed.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"> * rfbVncAuth:          The VNC authentication scheme is to be used.  A 16-byte</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"> *                      challenge follows, which the client encrypts as</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"> *                      appropriate using the password and sends the resulting</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"> *                      16-byte response.  If the response is correct, the</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"> *                      server sends the 32-bit word rfbVncAuthOK.  If a simple</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> *                      failure happens, the server sends rfbVncAuthFailed and</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"> *                      closes the connection. If the server decides that too</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> *                      many failures have occurred, it sends rfbVncAuthTooMany</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> *                      and closes the connection.  In the latter case, the</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> *                      server should not allow an immediate reconnection by</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> *                      the client.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad421387dbfe7907b1b9d5c149a788d85">  326</a></span>&#160;<span class="preprocessor">#define rfbVncAuthOK 0</span></div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a82903e28293bfc2d141250f87097cb2c">  327</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVncAuthFailed 1</span></div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aaa4ed8df7d4665bac250fbfbed259a2d">  328</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbVncAuthTooMany 2</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> * Client Initialisation Message</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> * Once the client and server are sure that they&#39;re happy to talk to one</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> * another, the client sends an initialisation message.  At present this</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"> * message only consists of a boolean indicating whether the server should try</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"> * to share the desktop by leaving other clients connected, or give exclusive</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"> * access to this client by disconnecting all other clients.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="code" href="structrfb_client_init_msg.html">  341</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="code" href="structrfb_client_init_msg.html#ac2573c59196bbc8dedf1f4447a536249">  342</a></span>&#160;    uint8_t <a class="code" href="structrfb_client_init_msg.html#ac2573c59196bbc8dedf1f4447a536249">shared</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;} <a class="code" href="structrfb_client_init_msg.html">rfbClientInitMsg</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#adb9fb527a2e41dac7f677c8d0b8189a3">  345</a></span>&#160;<span class="preprocessor">#define sz_rfbClientInitMsg 1</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"> * Server Initialisation Message</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment"> * After the client initialisation message, the server sends one of its own.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"> * This tells the client the width and height of the server&#39;s framebuffer,</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"> * its pixel format and the name associated with the desktop.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="code" href="structrfb_server_init_msg.html">  356</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="code" href="structrfb_server_init_msg.html#ae217177f12535e931f9e562bb29268d4">  357</a></span>&#160;    uint16_t <a class="code" href="structrfb_server_init_msg.html#ae217177f12535e931f9e562bb29268d4">framebufferWidth</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="code" href="structrfb_server_init_msg.html#aedbc5cd6d0e5cc7cc2dc2b0252a337e3">  358</a></span>&#160;    uint16_t <a class="code" href="structrfb_server_init_msg.html#aedbc5cd6d0e5cc7cc2dc2b0252a337e3">framebufferHeight</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="code" href="structrfb_server_init_msg.html#afe12707797380d4d71f0869554206d3f">  359</a></span>&#160;    <a class="code" href="structrfb_pixel_format.html">rfbPixelFormat</a> <a class="code" href="structrfb_server_init_msg.html#afe12707797380d4d71f0869554206d3f">format</a>;      <span class="comment">/* the server&#39;s preferred pixel format */</span></div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="code" href="structrfb_server_init_msg.html#a12f9f19dfb25b3319fd0096d54b3dad1">  360</a></span>&#160;    uint32_t <a class="code" href="structrfb_server_init_msg.html#a12f9f19dfb25b3319fd0096d54b3dad1">nameLength</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">/* followed by char name[nameLength] */</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;} <a class="code" href="structrfb_server_init_msg.html">rfbServerInitMsg</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a65ae0f4494eea368134197d0cdfdd338">  364</a></span>&#160;<span class="preprocessor">#define sz_rfbServerInitMsg (8 + sz_rfbPixelFormat)</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> * Following the server initialisation message it&#39;s up to the client to send</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> * whichever protocol messages it wants.  Typically it will send a</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> * SetPixelFormat message and a SetEncodings message, followed by a</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> * FramebufferUpdateRequest.  From then on the server will send</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> * FramebufferUpdate messages in response to the client&#39;s</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> * FramebufferUpdateRequest messages.  The client should send</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> * FramebufferUpdateRequest messages with incremental set to true when it has</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> * finished processing one FramebufferUpdate and is ready to process another.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"> * With a fast client, the rate at which FramebufferUpdateRequests are sent</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"> * should be regulated to avoid hogging the network.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">/*****************************************************************************</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"> * Message types</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"> *****************************************************************************/</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">/* server -&gt; client */</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a7de61a29de5c26e90a3fd9d5bdba047d">  390</a></span>&#160;<span class="preprocessor">#define rfbFramebufferUpdate 0</span></div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a80876221df8ea7a4cca4d82c1381e567">  391</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbSetColourMapEntries 1</span></div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#abd331d687b39ed72af756f784ba94da1">  392</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbBell 2</span></div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad92faefb0d4bb21de5d4df38f0ee65fc">  393</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbServerCutText 3</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="preprocessor"></span><span class="comment">/* Modif sf@2002 */</span></div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a83605c5e08f10811f9162197f6a219be">  395</a></span>&#160;<span class="preprocessor">#define rfbResizeFrameBuffer 4</span></div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#afa3b55a90b5f8837a1b7793b9756e3ba">  396</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbPalmVNCReSizeFrameBuffer 0xF</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/* client -&gt; server */</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a8a0981d6e5c922ff45e2c4df15a743c7">  400</a></span>&#160;<span class="preprocessor">#define rfbSetPixelFormat 0</span></div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa3ef9462e6316de6a57a450394c1875d">  401</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbFixColourMapEntries 1        </span><span class="comment">/* not currently supported */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00402"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae17003c8ad4600f9a137501bae03b5a7">  402</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbSetEncodings 2</span></div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a6eefb56ba09ef581ec8dfef2498edc13">  403</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbFramebufferUpdateRequest 3</span></div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#afbb29ba549361757b0941d0f64d3b6a7">  404</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyEvent 4</span></div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a6bde336e54a8400cc29172f4a3f0f7a5">  405</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbPointerEvent 5</span></div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a256eee9518680ae8630c5d730f9c2607">  406</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbClientCutText 6</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor"></span><span class="comment">/* Modif sf@2002 - actually bidirectionnal */</span></div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a92182b5feaafe7f68940886a5ef0ef3e">  408</a></span>&#160;<span class="preprocessor">#define rfbFileTransfer 7</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor"></span><span class="comment">/* Modif sf@2002 */</span></div>
<div class="line"><a name="l00410"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae73bb27c93d5ef1f8a07738f430ca13b">  410</a></span>&#160;<span class="preprocessor">#define rfbSetScale 8</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor"></span><span class="comment">/* Modif rdv@2002 */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a55dad5eb017c2fefc42d7be4fa5a0e4c">  412</a></span>&#160;<span class="preprocessor">#define rfbSetServerInput       9</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor"></span><span class="comment">/* Modif rdv@2002 */</span></div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a0859247e9a14f69dd6d463b619bd15e3">  414</a></span>&#160;<span class="preprocessor">#define rfbSetSW        10</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor"></span><span class="comment">/* Modif sf@2002 - TextChat - Bidirectionnal */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#adf94f49c72c3be1068077b228d7f7ea9">  416</a></span>&#160;<span class="preprocessor">#define rfbTextChat     11</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor"></span><span class="comment">/* Modif cs@2005 */</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">/* PalmVNC 1.4 &amp; 2.0 SetScale Factor message */</span></div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a9485dfbc310f1f84ae1a8b8f99abb96d">  419</a></span>&#160;<span class="preprocessor">#define rfbPalmVNCSetScaleFactor 0xF</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor"></span><span class="comment">/* Xvp message - bidirectional */</span></div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4fc114566f0f7f091e347fa7725974ff">  421</a></span>&#160;<span class="preprocessor">#define rfbXvp 250</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">/*****************************************************************************</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"> * Encoding types</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"> *****************************************************************************/</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#acd69e2fb2cdad1f40355868f96741bd7">  432</a></span>&#160;<span class="preprocessor">#define rfbEncodingRaw 0</span></div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae85c899239c1ae49f21a6436ea73e1fc">  433</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCopyRect 1</span></div>
<div class="line"><a name="l00434"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a73202f937fa5b3747523496ec6bd2e84">  434</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingRRE 2</span></div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a691c302fbb407bdc1883e43445caa733">  435</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCoRRE 4</span></div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a9aff4503adb91fe909899d96f861fb3c">  436</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingHextile 5</span></div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4d81fc90cc4f63cd4faf5b482448a0c3">  437</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingZlib 6</span></div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ac6f7813e5742f08095db9b58348ac084">  438</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingTight 7</span></div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a68c87192af29a175d32e4a34ebe68553">  439</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingTightPng 0xFFFFFEFC </span><span class="comment">/* -260 */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a331fed61b707e85ffe1b1e815a4bd692">  440</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingZlibHex 8</span></div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a7bb807a48abbb581f4e2d7e4cd58cb7c">  441</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingUltra 9</span></div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aacb436a10009ba40e09c9571210e8a97">  442</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingZRLE 16</span></div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a490c2b1f4f35fc1ffcd90af34e3ae35b">  443</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingZYWRLE 17</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">/* Cache &amp; XOR-Zlib - rdv@2002 */</span></div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a97a00f6324ba7a3e1655f2b6a8d59b44">  446</a></span>&#160;<span class="preprocessor">#define rfbEncodingCache                 0xFFFF0000</span></div>
<div class="line"><a name="l00447"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a47fc06529ac3135a09724f0e26eba030">  447</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCacheEnable           0xFFFF0001</span></div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae33a79586144cb865043d194a29719a8">  448</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingXOR_Zlib              0xFFFF0002</span></div>
<div class="line"><a name="l00449"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a233d3ba240fb2053b66897391255ab11">  449</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingXORMonoColor_Zlib     0xFFFF0003</span></div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#abec11d68172a0f5f06852449866b8bf2">  450</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingXORMultiColor_Zlib    0xFFFF0004</span></div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab819fd6f3becd25ef792a4986c8991e4">  451</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSolidColor            0xFFFF0005</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2b28b4ffeddcec060258eb40d9c609ba">  452</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingXOREnable             0xFFFF0006</span></div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aec30b3b279f7baaf244c461ed9d99fc6">  453</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCacheZip              0xFFFF0007</span></div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a44880f568adb463751fc106f17eadb4b">  454</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSolMonoZip            0xFFFF0008</span></div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa9784c27a25a5866c6b7013f8d629ab9">  455</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingUltraZip              0xFFFF0009</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">/* Xvp pseudo-encoding */</span></div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af9e2d7f66354468761c9a7d8cedee150">  458</a></span>&#160;<span class="preprocessor">#define rfbEncodingXvp                   0xFFFFFECB</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"> * Special encoding numbers:</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"> *   0xFFFFFD00 .. 0xFFFFFD05 -- subsampling level</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> *   0xFFFFFE00 .. 0xFFFFFE64 -- fine-grained quality level (0-100 scale)</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> *   0xFFFFFF00 .. 0xFFFFFF0F -- encoding-specific compression levels;</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> *   0xFFFFFF10 .. 0xFFFFFF1F -- mouse cursor shape data;</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> *   0xFFFFFF20 .. 0xFFFFFF2F -- various protocol extensions;</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"> *   0xFFFFFF30 .. 0xFFFFFFDF -- not allocated yet;</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"> *   0xFFFFFFE0 .. 0xFFFFFFEF -- quality level for JPEG compressor;</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"> *   0xFFFFFFF0 .. 0xFFFFFFFF -- cross-encoding compression levels.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ada847e9c53b73e2cf62c607fb7a7635c">  472</a></span>&#160;<span class="preprocessor">#define rfbEncodingFineQualityLevel0   0xFFFFFE00</span></div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4855668a891daaab89ded27496f46d1d">  473</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingFineQualityLevel100 0xFFFFFE64</span></div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a8d07ca136235c70936f76caceb0ecfe0">  474</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSubsamp1X           0xFFFFFD00</span></div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a488424aad908ca47f7b2c3bada4466b3">  475</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSubsamp4X           0xFFFFFD01</span></div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a3e01c0ce588add460553ddea10bb918e">  476</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSubsamp2X           0xFFFFFD02</span></div>
<div class="line"><a name="l00477"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a0e52fd15a7e17bc6061115d6b6f52acf">  477</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSubsampGray         0xFFFFFD03</span></div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a0ab2f61b2b3fcdcf9ed858b8cbd996a1">  478</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSubsamp8X           0xFFFFFD04</span></div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a7e8802f4642febfe357e508260eaff9f">  479</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSubsamp16X          0xFFFFFD05</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2597f58a1552edd47361fc3ae3dc7361">  481</a></span>&#160;<span class="preprocessor">#define rfbEncodingCompressLevel0  0xFFFFFF00</span></div>
<div class="line"><a name="l00482"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af07eb1c890705b195a3e6ee2bb0f8ba2">  482</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel1  0xFFFFFF01</span></div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a06e5aa91afec9d1892c31c77a10c2fee">  483</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel2  0xFFFFFF02</span></div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aaeeca3d2bb7a0f4ada6ed987e0e192da">  484</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel3  0xFFFFFF03</span></div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a6e155f9902b730b8ab14f44de57d579f">  485</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel4  0xFFFFFF04</span></div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ac6ea98df25d2e7e5bb9910a8ff4e45df">  486</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel5  0xFFFFFF05</span></div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a51ca5079036815cb28c7805a989bceec">  487</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel6  0xFFFFFF06</span></div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#acc5cff2e006834c870db64e57b3d40cd">  488</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel7  0xFFFFFF07</span></div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae3e841d63bc79d28ce0c413552dc7c14">  489</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel8  0xFFFFFF08</span></div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a80475fb910f9788106a8de6a845e78d4">  490</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingCompressLevel9  0xFFFFFF09</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a76f284eb75529cbc5e1f721e1ce41502">  492</a></span>&#160;<span class="preprocessor">#define rfbEncodingXCursor         0xFFFFFF10</span></div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2804479f61477d92dd53a967ecc329ed">  493</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingRichCursor      0xFFFFFF11</span></div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#acb0f89ff3be37ac667a6dd6f18e48fe1">  494</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingPointerPos      0xFFFFFF18</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#afdcaf989c4685120baaed8365063e9fd">  496</a></span>&#160;<span class="preprocessor">#define rfbEncodingLastRect           0xFFFFFF20</span></div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af35466143c14ca2cc520b8cef3f5845a">  497</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingNewFBSize          0xFFFFFF21</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a6f9a766d7823bf3d04a8c3f71d65a439">  499</a></span>&#160;<span class="preprocessor">#define rfbEncodingQualityLevel0   0xFFFFFFE0</span></div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad069473379b7d015ad16a36238ca30f0">  500</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel1   0xFFFFFFE1</span></div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a5fd6416c48319ddf40e50a43f454fb74">  501</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel2   0xFFFFFFE2</span></div>
<div class="line"><a name="l00502"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a11fea5fdf370fc48d2edffc14cc7dc54">  502</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel3   0xFFFFFFE3</span></div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a706e3f09896619be0df78ae6612b947b">  503</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel4   0xFFFFFFE4</span></div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ac2c253d69da6f479366b7da150c398d6">  504</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel5   0xFFFFFFE5</span></div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af52193df06d58dfef6edd3b97aa98144">  505</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel6   0xFFFFFFE6</span></div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a60f4d29b60303782447bd64a99819f25">  506</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel7   0xFFFFFFE7</span></div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a5a2d4a54d413f1a72e47847da42e024f">  507</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel8   0xFFFFFFE8</span></div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a7630c6f400459d00374f6ccab806a271">  508</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingQualityLevel9   0xFFFFFFE9</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">/* LibVNCServer additions.   We claim 0xFFFE0000 - 0xFFFE00FF */</span></div>
<div class="line"><a name="l00512"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae89401d538370580a3c47d15b31d228b">  512</a></span>&#160;<span class="preprocessor">#define rfbEncodingKeyboardLedState   0xFFFE0000</span></div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a497ec44989bcb23f7abeb9f28b6b9170">  513</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSupportedMessages  0xFFFE0001</span></div>
<div class="line"><a name="l00514"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a433ff8cc01fd4ee7d548bdc1fdadfd4c">  514</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingSupportedEncodings 0xFFFE0002</span></div>
<div class="line"><a name="l00515"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa481bd44979a717243c53f54e4204bd8">  515</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEncodingServerIdentity     0xFFFE0003</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/*****************************************************************************</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"> * Server -&gt; client message definitions</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment"> *****************************************************************************/</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> * FramebufferUpdate - a block of rectangles to be copied to the framebuffer.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"> * This message consists of a header giving the number of rectangles of pixel</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment"> * data followed by the rectangles themselves.  The header is padded so that</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"> * together with the type byte it is an exact multiple of 4 bytes (to help</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"> * with alignment of 32-bit pixels):</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_msg.html">  534</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_msg.html#a1d127017fb298b889f4ba24752d08b8e">  535</a></span>&#160;    uint8_t <a class="code" href="structrfb_framebuffer_update_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbFramebufferUpdate */</span></div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_msg.html#ac1a86b4f13c0cf801df27e12ce75f046">  536</a></span>&#160;    uint8_t <a class="code" href="structrfb_framebuffer_update_msg.html#ac1a86b4f13c0cf801df27e12ce75f046">pad</a>;</div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_msg.html#aec3a8aafc858a928a4e0bf6bd5528127">  537</a></span>&#160;    uint16_t <a class="code" href="structrfb_framebuffer_update_msg.html#aec3a8aafc858a928a4e0bf6bd5528127">nRects</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">/* followed by nRects rectangles */</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;} <a class="code" href="structrfb_framebuffer_update_msg.html">rfbFramebufferUpdateMsg</a>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad4e01ebf9d7aa352363e7e0b957728c1">  541</a></span>&#160;<span class="preprocessor">#define sz_rfbFramebufferUpdateMsg 4</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> * Each rectangle of pixel data consists of a header describing the position</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> * and size of the rectangle and a type word describing the encoding of the</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> * pixel data, followed finally by the pixel data.  Note that if the client has</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> * not sent a SetEncodings message then it will only receive raw pixel data.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"> * Also note again that this structure is a multiple of 4 bytes.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_rect_header.html">  551</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_rect_header.html#a36334b225607c91301381db0f94cbb00">  552</a></span>&#160;    <a class="code" href="structrfb_rectangle.html">rfbRectangle</a> <a class="code" href="structrfb_framebuffer_update_rect_header.html#a36334b225607c91301381db0f94cbb00">r</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_rect_header.html#abf20f154dd41a6f1b64b0cbfbfb05052">  553</a></span>&#160;    uint32_t <a class="code" href="structrfb_framebuffer_update_rect_header.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a>;  <span class="comment">/* one of the encoding types rfbEncoding... */</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;} <a class="code" href="structrfb_framebuffer_update_rect_header.html">rfbFramebufferUpdateRectHeader</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae7d8cde9e3c0cbe60fd9d728b1c8632b">  556</a></span>&#160;<span class="preprocessor">#define sz_rfbFramebufferUpdateRectHeader (sz_rfbRectangle + 4)</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> * Supported Messages Encoding.  This encoding does not contain any pixel data.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> * Instead, it contains 2 sets of bitflags.  These bitflags indicate what messages</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> * are supported by the server.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"> * rect-&gt;w contains byte count</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="code" href="structrfb_supported_messages.html">  565</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="code" href="structrfb_supported_messages.html#ababbbc6ca37cd145951ab6fb90a53ce0">  566</a></span>&#160;  uint8_t client2server[32]; <span class="comment">/* maximum of 256 message types (256/8)=32 */</span></div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="code" href="structrfb_supported_messages.html#ab7f45d76c66dddc84d5f06405b207411">  567</a></span>&#160;  uint8_t server2client[32]; <span class="comment">/* maximum of 256 message types (256/8)=32 */</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;} <a class="code" href="structrfb_supported_messages.html">rfbSupportedMessages</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aee86e24e5f04c70668ddc57220321ca2">  570</a></span>&#160;<span class="preprocessor">#define sz_rfbSupportedMessages 64</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment"> * Supported Encodings Encoding.  This encoding does not contain any pixel data.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"> * Instead, it contains a list of (uint32_t) Encodings supported by this server.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"> * rect-&gt;w contains byte count</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"> * rect-&gt;h contains encoding count</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> * Server Identity Encoding.  This encoding does not contain any pixel data.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> * Instead, it contains a text string containing information about the server.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> * ie: &quot;x11vnc: 0.8.1 lastmod: 2006-04-25 (libvncserver 0.9pre)\0&quot;</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> * rect-&gt;w contains byte count</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment"> * Raw Encoding.  Pixels are sent in top-to-bottom scanline order,</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment"> * left-to-right within a scanline with no padding in between.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment"> * KeyboardLedState Encoding.  The X coordinate contains the Locked Modifiers</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> * so that a remote troubleshooter can identify that the users &#39;Caps Lock&#39; </span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> * is set...   (It helps a *lot* when the users are untrained)</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa5ea0e3ba6d9d99704f602e9928cfeff">  597</a></span>&#160;<span class="preprocessor">#define rfbKeyboardMaskShift        1</span></div>
<div class="line"><a name="l00598"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad28d51a6f7aedbf51378c568c6a06153">  598</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskCapsLock     2</span></div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a46c4acc3deaba3ba9650eb00cff0128f">  599</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskControl      4</span></div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa93b650cba135fe5de82cad05de12d0a">  600</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskAlt          8</span></div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab01d623694d275bdcbb708917709f394">  601</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskMeta        16</span></div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#afc22e9595996485e4db82cdff413517f">  602</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskSuper       32</span></div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a301015b06b6b8143f0ec9774c0d00c70">  603</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskHyper       64</span></div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a80c6121f0351484108438b698b0eb954">  604</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskNumLock    128</span></div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa5c7db173097e7fa2be046adbbdc9181">  605</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskScrollLock 256</span></div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a374c41d170c1cbd2300628a25a84f10d">  606</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbKeyboardMaskAltGraph   512</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment"> * CopyRect Encoding.  The pixels are specified simply by the x and y position</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"> * of the source rectangle.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno"><a class="code" href="structrfb_copy_rect.html">  613</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="code" href="structrfb_copy_rect.html#a5a393ab0124e9ff838ddd0be9b42c616">  614</a></span>&#160;    uint16_t <a class="code" href="structrfb_copy_rect.html#a5a393ab0124e9ff838ddd0be9b42c616">srcX</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno"><a class="code" href="structrfb_copy_rect.html#a269a98ce5e5af038f9fff5b33052379f">  615</a></span>&#160;    uint16_t <a class="code" href="structrfb_copy_rect.html#a269a98ce5e5af038f9fff5b33052379f">srcY</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;} <a class="code" href="structrfb_copy_rect.html">rfbCopyRect</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a83a788291a38c552df3dddc339994a2b">  618</a></span>&#160;<span class="preprocessor">#define sz_rfbCopyRect 4</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> * RRE - Rise-and-Run-length Encoding.  We have an rfbRREHeader structure</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment"> * giving the number of subrectangles following.  Finally the data follows in</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment"> * the form [&lt;bgpixel&gt;&lt;subrect&gt;&lt;subrect&gt;...] where each &lt;subrect&gt; is</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"> * [&lt;pixel&gt;&lt;rfbRectangle&gt;].</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="code" href="structrfb_r_r_e_header.html">  628</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00629"></a><span class="lineno"><a class="code" href="structrfb_r_r_e_header.html#afb9ae1bc8059636c55a29cd6b26ca0fc">  629</a></span>&#160;    uint32_t <a class="code" href="structrfb_r_r_e_header.html#afb9ae1bc8059636c55a29cd6b26ca0fc">nSubrects</a>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;} <a class="code" href="structrfb_r_r_e_header.html">rfbRREHeader</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a1f6f029cfb3d16262470dd0932516bd2">  632</a></span>&#160;<span class="preprocessor">#define sz_rfbRREHeader 4</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment"> * CoRRE - Compact RRE Encoding.  We have an rfbRREHeader structure giving</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"> * the number of subrectangles following.  Finally the data follows in the form</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment"> * [&lt;bgpixel&gt;&lt;subrect&gt;&lt;subrect&gt;...] where each &lt;subrect&gt; is</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"> * [&lt;pixel&gt;&lt;rfbCoRRERectangle&gt;].  This means that</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"> * the whole rectangle must be at most 255x255 pixels.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno"><a class="code" href="structrfb_co_r_r_e_rectangle.html">  643</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="code" href="structrfb_co_r_r_e_rectangle.html#a0f561e77fa0f040b637f4e04f6cd8078">  644</a></span>&#160;    uint8_t <a class="code" href="structrfb_co_r_r_e_rectangle.html#a0f561e77fa0f040b637f4e04f6cd8078">x</a>;</div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="code" href="structrfb_co_r_r_e_rectangle.html#a17f97f62d93bc8cfb4a2b5d273a2aa72">  645</a></span>&#160;    uint8_t <a class="code" href="structrfb_co_r_r_e_rectangle.html#a17f97f62d93bc8cfb4a2b5d273a2aa72">y</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="code" href="structrfb_co_r_r_e_rectangle.html#aba9ed0487b0aa23eba534648df8384c0">  646</a></span>&#160;    uint8_t <a class="code" href="structrfb_co_r_r_e_rectangle.html#aba9ed0487b0aa23eba534648df8384c0">w</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="code" href="structrfb_co_r_r_e_rectangle.html#a1f1dfeb2f802fe99f37fe91867b84456">  647</a></span>&#160;    uint8_t <a class="code" href="structrfb_co_r_r_e_rectangle.html#a1f1dfeb2f802fe99f37fe91867b84456">h</a>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;} <a class="code" href="structrfb_co_r_r_e_rectangle.html">rfbCoRRERectangle</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div>
<div class="line"><a name="l00650"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a803677c703c2c3fcb8679735884e6726">  650</a></span>&#160;<span class="preprocessor">#define sz_rfbCoRRERectangle 4</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment"> * Hextile Encoding.  The rectangle is divided up into &quot;tiles&quot; of 16x16 pixels,</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"> * starting at the top left going in left-to-right, top-to-bottom order.  If</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment"> * the width of the rectangle is not an exact multiple of 16 then the width of</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment"> * the last tile in each row will be correspondingly smaller.  Similarly if the</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment"> * height is not an exact multiple of 16 then the height of each tile in the</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"> * final row will also be smaller.  Each tile begins with a &quot;subencoding&quot; type</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"> * byte, which is a mask made up of a number of bits.  If the Raw bit is set</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment"> * then the other bits are irrelevant; w*h pixel values follow (where w and h</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment"> * are the width and height of the tile).  Otherwise the tile is encoded in a</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"> * similar way to RRE, except that the position and size of each subrectangle</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"> * can be specified in just two bytes.  The other bits in the mask are as</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment"> * follows:</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"> * BackgroundSpecified - if set, a pixel value follows which specifies</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment"> *    the background colour for this tile.  The first non-raw tile in a</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"> *    rectangle must have this bit set.  If this bit isn&#39;t set then the</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment"> *    background is the same as the last tile.</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"> * ForegroundSpecified - if set, a pixel value follows which specifies</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"> *    the foreground colour to be used for all subrectangles in this tile.</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"> *    If this bit is set then the SubrectsColoured bit must be zero.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"> * AnySubrects - if set, a single byte follows giving the number of</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment"> *    subrectangles following.  If not set, there are no subrectangles (i.e.</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment"> *    the whole tile is just solid background colour).</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment"> * SubrectsColoured - if set then each subrectangle is preceded by a pixel</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment"> *    value giving the colour of that subrectangle.  If not set, all</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment"> *    subrectangles are the same colour, the foreground colour;  if the</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"> *    ForegroundSpecified bit wasn&#39;t set then the foreground is the same as</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment"> *    the last tile.</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"> * The position and size of each subrectangle is specified in two bytes.  The</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment"> * Pack macros below can be used to generate the two bytes from x, y, w, h,</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment"> * and the Extract macros can be used to extract the x, y, w, h values from</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment"> * the two bytes.</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae379820ba5a807c57d685dd3095443a9">  692</a></span>&#160;<span class="preprocessor">#define rfbHextileRaw                   (1 &lt;&lt; 0)</span></div>
<div class="line"><a name="l00693"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2d8524b603148abaf0a40c775c896d71">  693</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileBackgroundSpecified   (1 &lt;&lt; 1)</span></div>
<div class="line"><a name="l00694"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a6c8d23e6fcf3bba3e48b1a99356d4766">  694</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileForegroundSpecified   (1 &lt;&lt; 2)</span></div>
<div class="line"><a name="l00695"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af38109a07d7fbe9a20b101c9bc0dcbcb">  695</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileAnySubrects           (1 &lt;&lt; 3)</span></div>
<div class="line"><a name="l00696"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a8e910befb3fd62180186f619709e4ac9">  696</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileSubrectsColoured      (1 &lt;&lt; 4)</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00698"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aaebb0d4beb30a237120b7ce6384ac4cf">  698</a></span>&#160;<span class="preprocessor">#define rfbHextilePackXY(x,y) (((x) &lt;&lt; 4) | (y))</span></div>
<div class="line"><a name="l00699"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a95ff2d2e886cb62c5bcda092a49bd376">  699</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextilePackWH(w,h) ((((w)-1) &lt;&lt; 4) | ((h)-1))</span></div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#abd5511a2d2c13a4eefb521c878f9ca46">  700</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileExtractX(byte) ((byte) &gt;&gt; 4)</span></div>
<div class="line"><a name="l00701"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a9c4896b0c8066421b2068d7d63d655f1">  701</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileExtractY(byte) ((byte) &amp; 0xf)</span></div>
<div class="line"><a name="l00702"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2c16f841be466bbaff64cc082ed15e12">  702</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileExtractW(byte) (((byte) &gt;&gt; 4) + 1)</span></div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a511affed93147c3b34ee924c1dc72063">  703</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileExtractH(byte) (((byte) &amp; 0xf) + 1)</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment"> * zlib - zlib compressed Encoding.  We have an rfbZlibHeader structure</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment"> * giving the number of bytes following.  Finally the data follows is</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment"> * zlib compressed version of the raw pixel data as negotiated.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment"> * (NOTE: also used by Ultra Encoding)</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="code" href="structrfb_zlib_header.html">  712</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00713"></a><span class="lineno"><a class="code" href="structrfb_zlib_header.html#a02b1791db834d42f92625d36b832f82b">  713</a></span>&#160;    uint32_t <a class="code" href="structrfb_zlib_header.html#a02b1791db834d42f92625d36b832f82b">nBytes</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;} <a class="code" href="structrfb_zlib_header.html">rfbZlibHeader</a>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a71a5fa753f7fdb1513d737db05f66103">  716</a></span>&#160;<span class="preprocessor">#define sz_rfbZlibHeader 4</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="preprocessor">#ifdef LIBVNCSERVER_HAVE_LIBZ</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment"> * Tight and TightPng Encoding.</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment"> *-- TightPng is like Tight but basic compression is not used, instead PNG</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment"> *   data is sent.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment"> *-- The first byte of each Tight-encoded rectangle is a &quot;compression control</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment"> *   byte&quot;. Its format is as follows (bit 0 is the least significant one):</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment"> *   bit 0:    if 1, then compression stream 0 should be reset;</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment"> *   bit 1:    if 1, then compression stream 1 should be reset;</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment"> *   bit 2:    if 1, then compression stream 2 should be reset;</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment"> *   bit 3:    if 1, then compression stream 3 should be reset;</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment"> *   bits 7-4: if 1000 (0x08), then the compression type is &quot;fill&quot;,</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment"> *             if 1001 (0x09), then the compression type is &quot;jpeg&quot;,</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"> *             (Tight only) if 1010 (0x0A), then the compression type is</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment"> *               &quot;basic&quot; and no Zlib compression was used,</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment"> *             (Tight only) if 1110 (0x0E), then the compression type is</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment"> *               &quot;basic&quot;, no Zlib compression was used, and a &quot;filter id&quot; byte</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"> *               follows this byte,</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"> *             (TightPng only) if 1010 (0x0A), then the compression type is</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment"> *               &quot;png&quot;,</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment"> *             if 0xxx, then the compression type is &quot;basic&quot; and Zlib</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment"> *               compression was used,</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"> *             values greater than 1010 are not valid.</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment"> * If the compression type is &quot;basic&quot; and Zlib compression was used, then bits</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment"> * 6..4 of the compression control byte (those xxx in 0xxx) specify the</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment"> * following:</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment"> *   bits 5-4:  decimal representation is the index of a particular zlib</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"> *              stream which should be used for decompressing the data;</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment"> *   bit 6:     if 1, then a &quot;filter id&quot; byte is following this byte.</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment"> *-- The data that follows after the compression control byte described</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment"> * above depends on the compression type (&quot;fill&quot;, &quot;jpeg&quot;, &quot;png&quot; or &quot;basic&quot;).</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"> *-- If the compression type is &quot;fill&quot;, then the only pixel value follows, in</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"> * client pixel format (see NOTE 1). This value applies to all pixels of the</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"> * rectangle.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment"> *-- If the compression type is &quot;jpeg&quot; or &quot;png&quot;, the following data stream</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"> * looks like this:</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment"> *   1..3 bytes:  data size (N) in compact representation;</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment"> *   N bytes:     JPEG or PNG image.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment"> * Data size is compactly represented in one, two or three bytes, according</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"> * to the following scheme:</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"> *  0xxxxxxx                    (for values 0..127)</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment"> *  1xxxxxxx 0yyyyyyy           (for values 128..16383)</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment"> *  1xxxxxxx 1yyyyyyy zzzzzzzz  (for values 16384..4194303)</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment"> * Here each character denotes one bit, xxxxxxx are the least significant 7</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment"> * bits of the value (bits 0-6), yyyyyyy are bits 7-13, and zzzzzzzz are the</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment"> * most significant 8 bits (bits 14-21). For example, decimal value 10000</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment"> * should be represented as two bytes: binary 10010000 01001110, or</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment"> * hexadecimal 90 4E.</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment"> *-- If the compression type is &quot;basic&quot; and bit 6 of the compression control</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment"> * byte was set to 1, then the next (second) byte specifies &quot;filter id&quot; which</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment"> * tells the decoder what filter type was used by the encoder to pre-process</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment"> * pixel data before the compression. The &quot;filter id&quot; byte can be one of the</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment"> * following:</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment"> *   0:  no filter (&quot;copy&quot; filter);</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment"> *   1:  &quot;palette&quot; filter;</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment"> *   2:  &quot;gradient&quot; filter.</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment"> *-- If bit 6 of the compression control byte is set to 0 (no &quot;filter id&quot;</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment"> * byte), or if the filter id is 0, then raw pixel values in the client</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment"> * format (see NOTE 1) will be compressed. See below details on the</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"> * compression.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment"> *-- The &quot;gradient&quot; filter pre-processes pixel data with a simple algorithm</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment"> * which converts each color component to a difference between a &quot;predicted&quot;</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment"> * intensity and the actual intensity. Such a technique does not affect</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment"> * uncompressed data size, but helps to compress photo-like images better. </span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment"> * Pseudo-code for converting intensities to differences is the following:</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"> *   P[i,j] := V[i-1,j] + V[i,j-1] - V[i-1,j-1];</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"> *   if (P[i,j] &lt; 0) then P[i,j] := 0;</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment"> *   if (P[i,j] &gt; MAX) then P[i,j] := MAX;</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment"> *   D[i,j] := V[i,j] - P[i,j];</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment"> * Here V[i,j] is the intensity of a color component for a pixel at</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment"> * coordinates (i,j). MAX is the maximum value of intensity for a color</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment"> * component.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"> *-- The &quot;palette&quot; filter converts true-color pixel data to indexed colors</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment"> * and a palette which can consist of 2..256 colors. If the number of colors</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment"> * is 2, then each pixel is encoded in 1 bit, otherwise 8 bits is used to</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment"> * encode one pixel. 1-bit encoding is performed such way that the most</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment"> * significant bits correspond to the leftmost pixels, and each raw of pixels</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment"> * is aligned to the byte boundary. When &quot;palette&quot; filter is used, the</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"> * palette is sent before the pixel data. The palette begins with an unsigned</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment"> * byte which value is the number of colors in the palette minus 1 (i.e. 1</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment"> * means 2 colors, 255 means 256 colors in the palette). Then follows the</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"> * palette itself which consist of pixel values in client pixel format (see</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"> * NOTE 1).</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"> *-- The pixel data is compressed using the zlib library. But if the data</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment"> * size after applying the filter but before the compression is less then 12,</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment"> * then the data is sent as is, uncompressed. Four separate zlib streams</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"> * (0..3) can be used and the decoder should read the actual stream id from</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"> * the compression control byte (see NOTE 2).</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> * If the compression is not used, then the pixel data is sent as is,</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> * otherwise the data stream looks like this:</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment"> *   1..3 bytes:  data size (N) in compact representation;</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment"> *   N bytes:     zlib-compressed data.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment"> * Data size is compactly represented in one, two or three bytes, just like</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment"> * in the &quot;jpeg&quot; compression method (see above).</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment"> *-- NOTE 1. If the color depth is 24, and all three color components are</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment"> * 8-bit wide, then one pixel in Tight encoding is always represented by</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment"> * three bytes, where the first byte is red component, the second byte is</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment"> * green component, and the third byte is blue component of the pixel color</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment"> * value. This applies to colors in palettes as well.</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment"> *-- NOTE 2. The decoder must reset compression streams&#39; states before</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment"> * decoding the rectangle, if some of bits 0,1,2,3 in the compression control</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment"> * byte are set to 1. Note that the decoder must reset zlib streams even if</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment"> * the compression type is &quot;fill&quot;, &quot;jpeg&quot; or &quot;png&quot;.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"> *-- NOTE 3. The &quot;gradient&quot; filter and &quot;jpeg&quot; compression may be used only</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment"> * when bits-per-pixel value is either 16 or 32, not 8.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment"> *-- NOTE 4. The width of any Tight-encoded rectangle cannot exceed 2048</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"> * pixels. If a rectangle is wider, it must be split into several rectangles</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"> * and each one should be encoded separately.</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="preprocessor">#define rfbTightExplicitFilter         0x04</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTightFill                   0x08</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTightJpeg                   0x09</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTightNoZlib                 0x0A</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTightPng                    0x0A</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTightMaxSubencoding         0x0A</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">/* Filters to improve compression efficiency */</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="preprocessor">#define rfbTightFilterCopy             0x00</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTightFilterPalette          0x01</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTightFilterGradient         0x02</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment"> * XCursor encoding. This is a special encoding used to transmit X-style</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment"> * cursor shapes from server to clients. Note that for this encoding,</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment"> * coordinates in rfbFramebufferUpdateRectHeader structure hold hotspot</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment"> * position (r.x, r.y) and cursor size (r.w, r.h). If (w * h != 0), two RGB</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment"> * samples are sent after header in the rfbXCursorColors structure. They</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"> * denote foreground and background colors of the cursor. If a client</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment"> * supports only black-and-white cursors, it should ignore these colors and</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment"> * assume that foreground is black and background is white. Next, two bitmaps</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment"> * (1 bits per pixel) follow: first one with actual data (value 0 denotes</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment"> * background color, value 1 denotes foreground color), second one with</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment"> * transparency data (bits with zero value mean that these pixels are</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment"> * transparent). Both bitmaps represent cursor data in a byte stream, from</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment"> * left to right, from top to bottom, and each row is byte-aligned. Most</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment"> * significant bits correspond to leftmost pixels. The number of bytes in</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment"> * each row can be calculated as ((w + 7) / 8). If (w * h == 0), cursor</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment"> * should be hidden (or default local cursor should be set by the client).</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div>
<div class="line"><a name="l00890"></a><span class="lineno"><a class="code" href="structrfb_x_cursor_colors.html">  890</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00891"></a><span class="lineno"><a class="code" href="structrfb_x_cursor_colors.html#ab662b620cefe90c42fec284ceb8583dd">  891</a></span>&#160;    uint8_t <a class="code" href="structrfb_x_cursor_colors.html#ab662b620cefe90c42fec284ceb8583dd">foreRed</a>;</div>
<div class="line"><a name="l00892"></a><span class="lineno"><a class="code" href="structrfb_x_cursor_colors.html#a222e6a6527ab4f027af60c6b54439e82">  892</a></span>&#160;    uint8_t <a class="code" href="structrfb_x_cursor_colors.html#a222e6a6527ab4f027af60c6b54439e82">foreGreen</a>;</div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="code" href="structrfb_x_cursor_colors.html#a7541fa8a0a5bbed8c892d49abcd84786">  893</a></span>&#160;    uint8_t <a class="code" href="structrfb_x_cursor_colors.html#a7541fa8a0a5bbed8c892d49abcd84786">foreBlue</a>;</div>
<div class="line"><a name="l00894"></a><span class="lineno"><a class="code" href="structrfb_x_cursor_colors.html#a19f7891d3fcb5f29770f527550390dc1">  894</a></span>&#160;    uint8_t <a class="code" href="structrfb_x_cursor_colors.html#a19f7891d3fcb5f29770f527550390dc1">backRed</a>;</div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="code" href="structrfb_x_cursor_colors.html#a7a8b8408608fe3cb5863f59cf0ae82ed">  895</a></span>&#160;    uint8_t <a class="code" href="structrfb_x_cursor_colors.html#a7a8b8408608fe3cb5863f59cf0ae82ed">backGreen</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno"><a class="code" href="structrfb_x_cursor_colors.html#a65e683de07cf23714698f5b02281ed3f">  896</a></span>&#160;    uint8_t <a class="code" href="structrfb_x_cursor_colors.html#a65e683de07cf23714698f5b02281ed3f">backBlue</a>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;} <a class="code" href="structrfb_x_cursor_colors.html">rfbXCursorColors</a>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div>
<div class="line"><a name="l00899"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a957b0ccb3513a5b0c71917c929a88fa2">  899</a></span>&#160;<span class="preprocessor">#define sz_rfbXCursorColors 6</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment"> * RichCursor encoding. This is a special encoding used to transmit cursor</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment"> * shapes from server to clients. It is similar to the XCursor encoding but</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment"> * uses client pixel format instead of two RGB colors to represent cursor</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment"> * image. For this encoding, coordinates in rfbFramebufferUpdateRectHeader</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"> * structure hold hotspot position (r.x, r.y) and cursor size (r.w, r.h).</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"> * After header, two pixmaps follow: first one with cursor image in current</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment"> * client pixel format (like in raw encoding), second with transparency data</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment"> * (1 bit per pixel, exactly the same format as used for transparency bitmap</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment"> * in the XCursor encoding). If (w * h == 0), cursor should be hidden (or</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment"> * default local cursor should be set by the client).</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment"> * ZRLE - encoding combining Zlib compression, tiling, palettisation and</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment"> * run-length encoding.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno"><a class="code" href="structrfb_z_r_l_e_header.html">  921</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00922"></a><span class="lineno"><a class="code" href="structrfb_z_r_l_e_header.html#aebb70c2aab3407a9f05334c47131a43b">  922</a></span>&#160;    uint32_t <a class="code" href="structrfb_z_r_l_e_header.html#aebb70c2aab3407a9f05334c47131a43b">length</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;} <a class="code" href="structrfb_z_r_l_e_header.html">rfbZRLEHeader</a>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ac31e5b66ac3b3f626d9448835435d341">  925</a></span>&#160;<span class="preprocessor">#define sz_rfbZRLEHeader 4</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00927"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa2bb49f3db4c4abe61ea7e8a63eed603">  927</a></span>&#160;<span class="preprocessor">#define rfbZRLETileWidth 64</span></div>
<div class="line"><a name="l00928"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a6e942be35d07a281583854660296d633">  928</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbZRLETileHeight 64</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment"> * ZLIBHEX - zlib compressed Hextile Encoding.  Essentially, this is the</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment"> * hextile encoding with zlib compression on the tiles that can not be</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment"> * efficiently encoded with one of the other hextile subencodings.  The</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment"> * new zlib subencoding uses two bytes to specify the length of the</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment"> * compressed tile and then the compressed data follows.  As with the</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment"> * raw sub-encoding, the zlib subencoding invalidates the other</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment"> * values, if they are also set.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div>
<div class="line"><a name="l00941"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a660f1e41178735412d8aaf159f511499">  941</a></span>&#160;<span class="preprocessor">#define rfbHextileZlibRaw               (1 &lt;&lt; 5)</span></div>
<div class="line"><a name="l00942"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a8ede6a6da8d12838a0f49784f46461fd">  942</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileZlibHex               (1 &lt;&lt; 6)</span></div>
<div class="line"><a name="l00943"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4de36e51738aab2319ab6060fc458075">  943</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbHextileZlibMono              (1 &lt;&lt; 7)</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment"> * SetColourMapEntries - these messages are only sent if the pixel</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment"> * format uses a &quot;colour map&quot; (i.e. trueColour false) and the client has not</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment"> * fixed the entire colour map using FixColourMapEntries.  In addition they</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment"> * will only start being sent after the client has sent its first</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment"> * FramebufferUpdateRequest.  So if the client always tells the server to use</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment"> * trueColour then it never needs to process this type of message.</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="code" href="structrfb_set_colour_map_entries_msg.html">  955</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00956"></a><span class="lineno"><a class="code" href="structrfb_set_colour_map_entries_msg.html#a1d127017fb298b889f4ba24752d08b8e">  956</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_colour_map_entries_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbSetColourMapEntries */</span></div>
<div class="line"><a name="l00957"></a><span class="lineno"><a class="code" href="structrfb_set_colour_map_entries_msg.html#ac1a86b4f13c0cf801df27e12ce75f046">  957</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_colour_map_entries_msg.html#ac1a86b4f13c0cf801df27e12ce75f046">pad</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno"><a class="code" href="structrfb_set_colour_map_entries_msg.html#a87990a90b5194c797a4c5d17fa629092">  958</a></span>&#160;    uint16_t <a class="code" href="structrfb_set_colour_map_entries_msg.html#a87990a90b5194c797a4c5d17fa629092">firstColour</a>;</div>
<div class="line"><a name="l00959"></a><span class="lineno"><a class="code" href="structrfb_set_colour_map_entries_msg.html#a9df55ef4e031a4e226b8e582b3bf47f5">  959</a></span>&#160;    uint16_t <a class="code" href="structrfb_set_colour_map_entries_msg.html#a9df55ef4e031a4e226b8e582b3bf47f5">nColours</a>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">/* Followed by nColours * 3 * uint16_t</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">       r1, g1, b1, r2, g2, b2, r3, g3, b3, ..., rn, bn, gn */</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;} <a class="code" href="structrfb_set_colour_map_entries_msg.html">rfbSetColourMapEntriesMsg</a>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a81391cca1f83920eaf30445cd9b30576">  966</a></span>&#160;<span class="preprocessor">#define sz_rfbSetColourMapEntriesMsg 6</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment"> * Bell - ring a bell on the client if it has one.</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div>
<div class="line"><a name="l00974"></a><span class="lineno"><a class="code" href="structrfb_bell_msg.html">  974</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="code" href="structrfb_bell_msg.html#a1d127017fb298b889f4ba24752d08b8e">  975</a></span>&#160;    uint8_t <a class="code" href="structrfb_bell_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbBell */</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;} <a class="code" href="structrfb_bell_msg.html">rfbBellMsg</a>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div>
<div class="line"><a name="l00978"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af9d8eb6ba05d6a3e7a4bfee8134d7b17">  978</a></span>&#160;<span class="preprocessor">#define sz_rfbBellMsg 1</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment"> * ServerCutText - the server has new text in its cut buffer.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div>
<div class="line"><a name="l00986"></a><span class="lineno"><a class="code" href="structrfb_server_cut_text_msg.html">  986</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00987"></a><span class="lineno"><a class="code" href="structrfb_server_cut_text_msg.html#a1d127017fb298b889f4ba24752d08b8e">  987</a></span>&#160;    uint8_t <a class="code" href="structrfb_server_cut_text_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbServerCutText */</span></div>
<div class="line"><a name="l00988"></a><span class="lineno"><a class="code" href="structrfb_server_cut_text_msg.html#a25e2be7e403f0b3769563e679051c9d7">  988</a></span>&#160;    uint8_t <a class="code" href="structrfb_server_cut_text_msg.html#a25e2be7e403f0b3769563e679051c9d7">pad1</a>;</div>
<div class="line"><a name="l00989"></a><span class="lineno"><a class="code" href="structrfb_server_cut_text_msg.html#a06d0aede0e856b45130b687a03806893">  989</a></span>&#160;    uint16_t <a class="code" href="structrfb_server_cut_text_msg.html#a06d0aede0e856b45130b687a03806893">pad2</a>;</div>
<div class="line"><a name="l00990"></a><span class="lineno"><a class="code" href="structrfb_server_cut_text_msg.html#aebb70c2aab3407a9f05334c47131a43b">  990</a></span>&#160;    uint32_t <a class="code" href="structrfb_server_cut_text_msg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="comment">/* followed by char text[length] */</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;} <a class="code" href="structrfb_server_cut_text_msg.html">rfbServerCutTextMsg</a>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div>
<div class="line"><a name="l00994"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a98a50569fbe2834ddd13ba8592e55983">  994</a></span>&#160;<span class="preprocessor">#define sz_rfbServerCutTextMsg 8</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment"> * //  Modif sf@2002</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment"> * FileTransferMsg - The client sends FileTransfer message.</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment"> * Bidirectional message - Files can be sent from client to server &amp; vice versa</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"><a class="code" href="structrfb_file_transfer_msg.html"> 1003</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_rfbFileTransferMsg {</div>
<div class="line"><a name="l01004"></a><span class="lineno"><a class="code" href="structrfb_file_transfer_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1004</a></span>&#160;    uint8_t <a class="code" href="structrfb_file_transfer_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbFileTransfer */</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"><a class="code" href="structrfb_file_transfer_msg.html#a216b459f2a1e716b517695ede17525ea"> 1005</a></span>&#160;    uint8_t <a class="code" href="structrfb_file_transfer_msg.html#a216b459f2a1e716b517695ede17525ea">contentType</a>;  <span class="comment">/*  See defines below */</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"><a class="code" href="structrfb_file_transfer_msg.html#a3fc8d552bf6bdd96ac9eb0a9ededcfa4"> 1006</a></span>&#160;    uint8_t <a class="code" href="structrfb_file_transfer_msg.html#a3fc8d552bf6bdd96ac9eb0a9ededcfa4">contentParam</a>;<span class="comment">/*  Other possible content classification (Dir or File name, etc..) */</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"><a class="code" href="structrfb_file_transfer_msg.html#ac1a86b4f13c0cf801df27e12ce75f046"> 1007</a></span>&#160;    uint8_t <a class="code" href="structrfb_file_transfer_msg.html#ac1a86b4f13c0cf801df27e12ce75f046">pad</a>;         <span class="comment">/* It appears that UltraVNC *forgot* to Swap16IfLE(contentParam) */</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"><a class="code" href="structrfb_file_transfer_msg.html#ab2c6b258f02add8fdf4cfc7c371dd772"> 1008</a></span>&#160;    uint32_t <a class="code" href="structrfb_file_transfer_msg.html#ab2c6b258f02add8fdf4cfc7c371dd772">size</a>;              <span class="comment">/*  FileSize or packet index or error or other  */</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">/*  uint32_t sizeH;              Additional 32Bits params to handle big values. Only for V2 (we want backward compatibility between all V1 versions) */</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"><a class="code" href="structrfb_file_transfer_msg.html#aebb70c2aab3407a9f05334c47131a43b"> 1010</a></span>&#160;    uint32_t <a class="code" href="structrfb_file_transfer_msg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">/* followed by data char text[length] */</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;} <a class="code" href="structrfb_file_transfer_msg.html">rfbFileTransferMsg</a>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div>
<div class="line"><a name="l01014"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a5cb4fca5be34e62331ea12f5ca964eaf"> 1014</a></span>&#160;<span class="preprocessor">#define sz_rfbFileTransferMsg   12</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01016"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab3c58799597476530806d5b32f1657fb"> 1016</a></span>&#160;<span class="preprocessor">#define rfbFileTransferVersion  2 </span><span class="comment">/*  v1 is the old FT version ( &lt;= 1.0.0 RC18 versions) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">/*  FileTransfer Content types and Params defines */</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab1068cb8e9c6bab7ef632d0f769eed64"> 1019</a></span>&#160;<span class="preprocessor">#define rfbDirContentRequest    1 </span><span class="comment">/*  Client asks for the content of a given Server directory */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01020"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2da7cd02411e432a9b437fb38e381ed4"> 1020</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbDirPacket                    2 </span><span class="comment">/*  Full directory name or full file name. */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="preprocessor"></span>                                                                  <span class="comment">/*  Null content means end of Directory */</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#af144bb40a31f761a888ffda88a96cfe8"> 1022</a></span>&#160;<span class="preprocessor">#define rfbFileTransferRequest  3 </span><span class="comment">/*  Client asks the server for the transfer of a given file */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01023"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#afeb1eb6373c881c7b7b6d93881dcbfc8"> 1023</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbFileHeader                   4 </span><span class="comment">/*  First packet of a file transfer, containing file&#39;s features */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01024"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a05febc8faefdb0e9a9327ea09c703e1e"> 1024</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbFilePacket                   5 </span><span class="comment">/*  One chunk of the file */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01025"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#adf2d35c6ba09d06e11d6d3403280970f"> 1025</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbEndOfFile                    6 </span><span class="comment">/*  End of file transfer (the file has been received or error) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01026"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a94edff5beed0401dcddc7901151107a6"> 1026</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbAbortFileTransfer    7 </span><span class="comment">/*  The file transfer must be aborted, whatever the state */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01027"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a83348363977934e5f87ddcd805f4064e"> 1027</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbFileTransferOffer    8 </span><span class="comment">/*  The client offers to send a file to the server */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01028"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab1f4fcc92927df19f726000fdc8aa137"> 1028</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbFileAcceptHeader             9 </span><span class="comment">/*  The server accepts or rejects the file */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01029"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab660236b0b35bb65d3b9ba0b7634b236"> 1029</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbCommand                              10 </span><span class="comment">/*  The Client sends a simple command (File Delete, Dir create etc...) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01030"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a48ef1386b768dcc714b470d07fdaf31f"> 1030</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbCommandReturn                11 </span><span class="comment">/*  The Client receives the server&#39;s answer about a simple command */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01031"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a3ebae713eda1fefea1abbbe51257837e"> 1031</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbFileChecksums                12 </span><span class="comment">/*  The zipped checksums of the destination file (Delta Transfer) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01032"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae2c972b27271010dd4602ecf92e6fdde"> 1032</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbFileTransferAccess   14 </span><span class="comment">/*  Request FileTransfer authorization */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                                                <span class="comment">/*  rfbDirContentRequest client Request - content params  */</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a8e827e25de42b49c3d755ba3a3c9b374"> 1035</a></span>&#160;<span class="preprocessor">#define rfbRDirContent                  1 </span><span class="comment">/*  Request a Server Directory contents */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01036"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a9738738a628ce74d0e3586f1f0ea2d6f"> 1036</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbRDrivesList                  2 </span><span class="comment">/*  Request the server&#39;s drives list */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a82320143eb0483a469c2fee4491a1e71"> 1037</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbRDirRecursiveList    3 </span><span class="comment">/*  Request a server directory content recursive sorted list */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01038"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#abae752920314900de058e6be4017d7b5"> 1038</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbRDirRecursiveSize    4 </span><span class="comment">/*  Request a server directory content recursive size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                                                                <span class="comment">/*  rfbDirPacket &amp; rfbCommandReturn  server Answer - content params */</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad026ba40cdc5fc394d9e17fbbb29f462"> 1041</a></span>&#160;<span class="preprocessor">#define rfbADirectory                   1 </span><span class="comment">/*  Reception of a directory name */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01042"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2fc0a3de5d7956411abf871ded0fa2a1"> 1042</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbAFile                                2 </span><span class="comment">/*  Reception of a file name  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01043"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4934b7d806bad4b9c39f3a4e8695b09d"> 1043</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbADrivesList                  3 </span><span class="comment">/*  Reception of a list of drives */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01044"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a316e3316fcf7c06cf5ecf435c1c0c9e9"> 1044</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbADirCreate                   4 </span><span class="comment">/*  Response to a create dir command  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01045"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a16805fd323ec01b21e3f8c2ebb2ab7f3"> 1045</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbADirDelete                   5 </span><span class="comment">/*  Response to a delete dir command  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01046"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a9c4f809d430e57be2e450d8b3eb5cfe8"> 1046</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbAFileCreate                  6 </span><span class="comment">/*  Response to a create file command  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01047"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a8dbd7e3d3e8ec717d71ed06e4538534f"> 1047</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbAFileDelete                  7 </span><span class="comment">/*  Response to a delete file command  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01048"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a7a4dd26fb163e1157df4f2b5c083f13a"> 1048</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbAFileRename                  8 </span><span class="comment">/*  Response to a rename file command  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01049"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a787359943d94c33415861beae43c0eb4"> 1049</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbADirRename                   9 </span><span class="comment">/*  Response to a rename dir command  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01050"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a26c4a81c453ee02a7d88e1ed372ccea0"> 1050</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbADirRecursiveListItem        10 </span></div>
<div class="line"><a name="l01051"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab406d27b1123ace3963675008e4af47c"> 1051</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbADirRecursiveSize            11 </span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                                                <span class="comment">/*  rfbCommand Command - content params */</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a67db7610fed4246e3089021f548654ee"> 1054</a></span>&#160;<span class="preprocessor">#define rfbCDirCreate                   1 </span><span class="comment">/*  Request the server to create the given directory */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01055"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4d1d5d2d9d4d046555631d5f7e72f324"> 1055</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbCDirDelete                   2 </span><span class="comment">/*  Request the server to delete the given directory */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01056"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a05433b149dca32ab94d339fe91ae2640"> 1056</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbCFileCreate                  3 </span><span class="comment">/*  Request the server to create the given file */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01057"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a88c146a7a1f32d2c838793045d177bd9"> 1057</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbCFileDelete                  4 </span><span class="comment">/*  Request the server to delete the given file */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01058"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a983c710e45337bf25945e2c7f71b4e47"> 1058</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbCFileRename                  5 </span><span class="comment">/*  Request the server to rename the given file  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01059"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a11484cfe0af448da10eb0ad57a819c07"> 1059</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbCDirRename                   6 </span><span class="comment">/*  Request the server to rename the given directory */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                                                                <span class="comment">/*  Errors - content params or &quot;size&quot; field */</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a6bb203119d94a5775ef07209353c3a15"> 1062</a></span>&#160;<span class="preprocessor">#define rfbRErrorUnknownCmd     1  </span><span class="comment">/*  Unknown FileTransfer command. */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01063"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a89483c6836056432244b2a7f118dead1"> 1063</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbRErrorCmd                    0xFFFFFFFF</span><span class="comment">/*  Error when a command fails on remote side (ret in &quot;size&quot; field) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01065"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a7f0664c53dc363609fe599b0bddfa757"> 1065</a></span>&#160;<span class="preprocessor">#define sz_rfbBlockSize                 8192  </span><span class="comment">/*  Size of a File Transfer packet (before compression) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01066"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ac41c3d2a0bd84c5b9843205cfefb8698"> 1066</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbZipDirectoryPrefix   &quot;!UVNCDIR-\0&quot; </span><span class="comment">/*  Transfered directory are zipped in a file with this prefix. Must end with &quot;-&quot; */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01067"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a80550843ab18088d921ea21fe5e1dbbb"> 1067</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define sz_rfbZipDirectoryPrefix 9 </span></div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2c0e2a62b7765495225fb51594b60184"> 1068</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbDirPrefix                    &quot;[ &quot;</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#afe64a23186c24b1cc2715f94f308d482"> 1069</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbDirSuffix                    &quot; ]&quot;            </span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment"> * Modif sf@2002</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment"> * TextChatMsg - Utilized to order the TextChat mode on server or client</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment"> * Bidirectional message</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div>
<div class="line"><a name="l01079"></a><span class="lineno"><a class="code" href="structrfb_text_chat_msg.html"> 1079</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_rfbTextChatMsg {</div>
<div class="line"><a name="l01080"></a><span class="lineno"><a class="code" href="structrfb_text_chat_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1080</a></span>&#160;    uint8_t <a class="code" href="structrfb_text_chat_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbTextChat */</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"><a class="code" href="structrfb_text_chat_msg.html#a25e2be7e403f0b3769563e679051c9d7"> 1081</a></span>&#160;    uint8_t <a class="code" href="structrfb_text_chat_msg.html#a25e2be7e403f0b3769563e679051c9d7">pad1</a>;         <span class="comment">/*  Could be used later as an additionnal param */</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"><a class="code" href="structrfb_text_chat_msg.html#a06d0aede0e856b45130b687a03806893"> 1082</a></span>&#160;    uint16_t <a class="code" href="structrfb_text_chat_msg.html#a06d0aede0e856b45130b687a03806893">pad2</a>;              <span class="comment">/*  Could be used later as text offset, for instance */</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="code" href="structrfb_text_chat_msg.html#aebb70c2aab3407a9f05334c47131a43b"> 1083</a></span>&#160;    uint32_t <a class="code" href="structrfb_text_chat_msg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>;      <span class="comment">/*  Specific values for Open, close, finished (-1, -2, -3) */</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="comment">/* followed by char text[length] */</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;} <a class="code" href="structrfb_text_chat_msg.html">rfbTextChatMsg</a>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div>
<div class="line"><a name="l01087"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a9b6eedb97136ce8e9fb4c12f4ed8b865"> 1087</a></span>&#160;<span class="preprocessor">#define sz_rfbTextChatMsg 8</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01089"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a7c4332a9ebb9bb532538aa592a5e9814"> 1089</a></span>&#160;<span class="preprocessor">#define rfbTextMaxSize          4096</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aa21b36f07a43a66a8727776e52faec06"> 1090</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTextChatOpen         0xFFFFFFFF </span></div>
<div class="line"><a name="l01091"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a43b1667097983c4664b8124add53af70"> 1091</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTextChatClose        0xFFFFFFFE  </span></div>
<div class="line"><a name="l01092"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a329f7622e63b5ff5b861950a38c2567d"> 1092</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbTextChatFinished 0xFFFFFFFD  </span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment"> * Xvp Message</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment"> * Bidirectional message</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment"> * A server which supports the xvp extension declares this by sending a message</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment"> * with an Xvp_INIT xvp-message-code when it receives a request from the client</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment"> * to use the xvp Pseudo-encoding. The server must specify in this message the</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment"> * highest xvp-extension-version it supports: the client may assume that the</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment"> * server supports all versions from 1 up to this value. The client is then</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment"> * free to use any supported version. Currently, only version 1 is defined.</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment"> * A server which subsequently receives an xvp Client Message requesting an</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment"> * operation which it is unable to perform, informs the client of this by</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment"> * sending a message with an Xvp_FAIL xvp-message-code, and the same</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment"> * xvp-extension-version as included in the client&#39;s operation request.</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment"> * A client supporting the xvp extension sends this to request that the server</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment"> * initiate a clean shutdown, clean reboot or abrupt reset of the system whose</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment"> * framebuffer the client is displaying.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"><a class="code" href="structrfb_xvp_msg.html"> 1116</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01117"></a><span class="lineno"><a class="code" href="structrfb_xvp_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1117</a></span>&#160;    uint8_t <a class="code" href="structrfb_xvp_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbXvp */</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"><a class="code" href="structrfb_xvp_msg.html#ac1a86b4f13c0cf801df27e12ce75f046"> 1118</a></span>&#160;        uint8_t <a class="code" href="structrfb_xvp_msg.html#ac1a86b4f13c0cf801df27e12ce75f046">pad</a>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"><a class="code" href="structrfb_xvp_msg.html#ab22abc2906422da61885ac6c8e6a1a59"> 1119</a></span>&#160;        uint8_t <a class="code" href="structrfb_xvp_msg.html#ab22abc2906422da61885ac6c8e6a1a59">version</a>;        <span class="comment">/* xvp extension version */</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"><a class="code" href="structrfb_xvp_msg.html#a966576744a473fafb7687f8e5649941f"> 1120</a></span>&#160;        uint8_t <a class="code" href="structrfb_xvp_msg.html#a966576744a473fafb7687f8e5649941f">code</a>;           <span class="comment">/* xvp message code */</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;} <a class="code" href="structrfb_xvp_msg.html">rfbXvpMsg</a>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div>
<div class="line"><a name="l01123"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a480fe7417e3e9094205dadc29d97ecaf"> 1123</a></span>&#160;<span class="preprocessor">#define sz_rfbXvpMsg (4)</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">/* server message codes */</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae2563a0462974a570a9db7c36a3ee0ea"> 1126</a></span>&#160;<span class="preprocessor">#define rfbXvp_Fail 0</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a03de77e142899b8e0788c69e25579427"> 1127</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbXvp_Init 1</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="preprocessor"></span><span class="comment">/* client message codes */</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a34b6b44a24daec92ad1dcd6c338b5e6a"> 1129</a></span>&#160;<span class="preprocessor">#define rfbXvp_Shutdown 2</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ace7f5870e73ff5023b61a795b9b0065e"> 1130</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbXvp_Reboot 3</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a50dd8ccced1edc83a2a8ee6cf8d12d34"> 1131</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbXvp_Reset 4</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment"> * Modif sf@2002</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment"> * ResizeFrameBuffer - The Client must change the size of its framebuffer  </span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div>
<div class="line"><a name="l01139"></a><span class="lineno"><a class="code" href="structrfb_resize_frame_buffer_msg.html"> 1139</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_rfbResizeFrameBufferMsg {</div>
<div class="line"><a name="l01140"></a><span class="lineno"><a class="code" href="structrfb_resize_frame_buffer_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1140</a></span>&#160;    uint8_t <a class="code" href="structrfb_resize_frame_buffer_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbResizeFrameBuffer */</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"><a class="code" href="structrfb_resize_frame_buffer_msg.html#a25e2be7e403f0b3769563e679051c9d7"> 1141</a></span>&#160;        uint8_t <a class="code" href="structrfb_resize_frame_buffer_msg.html#a25e2be7e403f0b3769563e679051c9d7">pad1</a>;</div>
<div class="line"><a name="l01142"></a><span class="lineno"><a class="code" href="structrfb_resize_frame_buffer_msg.html#ae217177f12535e931f9e562bb29268d4"> 1142</a></span>&#160;        uint16_t <a class="code" href="structrfb_resize_frame_buffer_msg.html#ae217177f12535e931f9e562bb29268d4">framebufferWidth</a>;      <span class="comment">/*  FrameBuffer width */</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"><a class="code" href="structrfb_resize_frame_buffer_msg.html#a5eb58e3b956e64521b05c974066aef4b"> 1143</a></span>&#160;        uint16_t <a class="code" href="structrfb_resize_frame_buffer_msg.html#a5eb58e3b956e64521b05c974066aef4b">framebufferHeigth</a>;     <span class="comment">/*  FrameBuffer height */</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;} <a class="code" href="structrfb_resize_frame_buffer_msg.html">rfbResizeFrameBufferMsg</a>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div>
<div class="line"><a name="l01146"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a2c7ef600670c59ed69e42278bad56f54"> 1146</a></span>&#160;<span class="preprocessor">#define sz_rfbResizeFrameBufferMsg 6</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment"> * Copyright (C) 2001 Harakan Software</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment"> * PalmVNC 1.4 &amp; 2.? ResizeFrameBuffer message</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment"> * ReSizeFrameBuffer - tell the RFB client to alter its framebuffer, either</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment"> * due to a resize of the server desktop or a client-requested scaling factor.</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment"> * The pixel format remains unchanged.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div>
<div class="line"><a name="l01157"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html"> 1157</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01158"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1158</a></span>&#160;    uint8_t <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbReSizeFrameBuffer */</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a25e2be7e403f0b3769563e679051c9d7"> 1159</a></span>&#160;        uint8_t <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a25e2be7e403f0b3769563e679051c9d7">pad1</a>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a02f0d0b1452de9bdd7bbc5c9efd6f14b"> 1160</a></span>&#160;        uint16_t <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a02f0d0b1452de9bdd7bbc5c9efd6f14b">desktop_w</a>;     <span class="comment">/* Desktop width */</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a231c302d364b5083463f7a0b51511f03"> 1161</a></span>&#160;        uint16_t <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a231c302d364b5083463f7a0b51511f03">desktop_h</a>;     <span class="comment">/* Desktop height */</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#ab9a19f5dd1509c853c37bc5592c2e881"> 1162</a></span>&#160;        uint16_t <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#ab9a19f5dd1509c853c37bc5592c2e881">buffer_w</a>;      <span class="comment">/* FrameBuffer width */</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#aa9618c546341da67985868c838e8237c"> 1163</a></span>&#160;        uint16_t <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#aa9618c546341da67985868c838e8237c">buffer_h</a>;      <span class="comment">/* Framebuffer height */</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a06d0aede0e856b45130b687a03806893"> 1164</a></span>&#160;    uint16_t <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html#a06d0aede0e856b45130b687a03806893">pad2</a>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;} <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html">rfbPalmVNCReSizeFrameBufferMsg</a>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ac96d7584f293d2e53df656b0ad4e7550"> 1168</a></span>&#160;<span class="preprocessor">#define sz_rfbPalmVNCReSizeFrameBufferMsg (12)</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment"> * Union of all server-&gt;client messages.</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html"> 1177</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">union </span>{</div>
<div class="line"><a name="l01178"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1178</a></span>&#160;    uint8_t <a class="code" href="unionrfb_server_to_client_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#abc367901a2d8d63927e5ac02345990d1"> 1179</a></span>&#160;    <a class="code" href="structrfb_framebuffer_update_msg.html">rfbFramebufferUpdateMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#abc367901a2d8d63927e5ac02345990d1">fu</a>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#a3f955ac333a38d864476ec8debbeab2b"> 1180</a></span>&#160;    <a class="code" href="structrfb_set_colour_map_entries_msg.html">rfbSetColourMapEntriesMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#a3f955ac333a38d864476ec8debbeab2b">scme</a>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#ad77fd1e1bb056e37309cf63e5db2451c"> 1181</a></span>&#160;    <a class="code" href="structrfb_bell_msg.html">rfbBellMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#ad77fd1e1bb056e37309cf63e5db2451c">b</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#a5782a57a43722d44e2beacdd8a7672dd"> 1182</a></span>&#160;    <a class="code" href="structrfb_server_cut_text_msg.html">rfbServerCutTextMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#a5782a57a43722d44e2beacdd8a7672dd">sct</a>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#a29dcdedca091ee4e7348d521009d36b0"> 1183</a></span>&#160;        <a class="code" href="structrfb_resize_frame_buffer_msg.html">rfbResizeFrameBufferMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#a29dcdedca091ee4e7348d521009d36b0">rsfb</a>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#a94da8c7e731218b33a4783bf952e90af"> 1184</a></span>&#160;        <a class="code" href="structrfb_palm_v_n_c_re_size_frame_buffer_msg.html">rfbPalmVNCReSizeFrameBufferMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#a94da8c7e731218b33a4783bf952e90af">prsfb</a>; </div>
<div class="line"><a name="l01185"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#aa0b4b50047eed36615080f7de1ad25db"> 1185</a></span>&#160;        <a class="code" href="structrfb_file_transfer_msg.html">rfbFileTransferMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#aa0b4b50047eed36615080f7de1ad25db">ft</a>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#ad07ca5c3c21584238b94482ff0f05f40"> 1186</a></span>&#160;        <a class="code" href="structrfb_text_chat_msg.html">rfbTextChatMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#ad07ca5c3c21584238b94482ff0f05f40">tc</a>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"><a class="code" href="unionrfb_server_to_client_msg.html#aa38cf87fbf5decd4affcf8f4b895381b"> 1187</a></span>&#160;        <a class="code" href="structrfb_xvp_msg.html">rfbXvpMsg</a> <a class="code" href="unionrfb_server_to_client_msg.html#aa38cf87fbf5decd4affcf8f4b895381b">xvp</a>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;} <a class="code" href="unionrfb_server_to_client_msg.html">rfbServerToClientMsg</a>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">/*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment"> * RDV Cache Encoding.  </span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment"> * special is not used at this point, can be used to reset cache or other specials</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment"> * just put it to make sure we don&#39;t have to change the encoding again.  </span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div>
<div class="line"><a name="l01198"></a><span class="lineno"><a class="code" href="structrfb_cache_rect.html"> 1198</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01199"></a><span class="lineno"><a class="code" href="structrfb_cache_rect.html#ab868ba6924dccc98088ffc59cdb202fa"> 1199</a></span>&#160;    uint16_t <a class="code" href="structrfb_cache_rect.html#ab868ba6924dccc98088ffc59cdb202fa">special</a>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;} <a class="code" href="structrfb_cache_rect.html">rfbCacheRect</a>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div>
<div class="line"><a name="l01202"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ade42a7a160ffcf56b25c6476d0464539"> 1202</a></span>&#160;<span class="preprocessor">#define sz_rfbCacheRect 2</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment">/*****************************************************************************</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment"> * Message definitions (client -&gt; server)</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment"> *****************************************************************************/</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment"> * SetPixelFormat - tell the RFB server the format in which the client wants</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment"> * pixels sent.</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div>
<div class="line"><a name="l01219"></a><span class="lineno"><a class="code" href="structrfb_set_pixel_format_msg.html"> 1219</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01220"></a><span class="lineno"><a class="code" href="structrfb_set_pixel_format_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1220</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_pixel_format_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbSetPixelFormat */</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"><a class="code" href="structrfb_set_pixel_format_msg.html#a25e2be7e403f0b3769563e679051c9d7"> 1221</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_pixel_format_msg.html#a25e2be7e403f0b3769563e679051c9d7">pad1</a>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"><a class="code" href="structrfb_set_pixel_format_msg.html#a06d0aede0e856b45130b687a03806893"> 1222</a></span>&#160;    uint16_t <a class="code" href="structrfb_set_pixel_format_msg.html#a06d0aede0e856b45130b687a03806893">pad2</a>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"><a class="code" href="structrfb_set_pixel_format_msg.html#afe12707797380d4d71f0869554206d3f"> 1223</a></span>&#160;    <a class="code" href="structrfb_pixel_format.html">rfbPixelFormat</a> <a class="code" href="structrfb_set_pixel_format_msg.html#afe12707797380d4d71f0869554206d3f">format</a>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;} <a class="code" href="structrfb_set_pixel_format_msg.html">rfbSetPixelFormatMsg</a>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ab92ebcacb331d4bf323f808d3a27d72a"> 1226</a></span>&#160;<span class="preprocessor">#define sz_rfbSetPixelFormatMsg (sz_rfbPixelFormat + 4)</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment"> * FixColourMapEntries - when the pixel format uses a &quot;colour map&quot;, fix</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment"> * read-only colour map entries.</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="comment"> *    ***************** NOT CURRENTLY SUPPORTED *****************</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div>
<div class="line"><a name="l01236"></a><span class="lineno"><a class="code" href="structrfb_fix_colour_map_entries_msg.html"> 1236</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01237"></a><span class="lineno"><a class="code" href="structrfb_fix_colour_map_entries_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1237</a></span>&#160;    uint8_t <a class="code" href="structrfb_fix_colour_map_entries_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbFixColourMapEntries */</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"><a class="code" href="structrfb_fix_colour_map_entries_msg.html#ac1a86b4f13c0cf801df27e12ce75f046"> 1238</a></span>&#160;    uint8_t <a class="code" href="structrfb_fix_colour_map_entries_msg.html#ac1a86b4f13c0cf801df27e12ce75f046">pad</a>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"><a class="code" href="structrfb_fix_colour_map_entries_msg.html#a87990a90b5194c797a4c5d17fa629092"> 1239</a></span>&#160;    uint16_t <a class="code" href="structrfb_fix_colour_map_entries_msg.html#a87990a90b5194c797a4c5d17fa629092">firstColour</a>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"><a class="code" href="structrfb_fix_colour_map_entries_msg.html#a9df55ef4e031a4e226b8e582b3bf47f5"> 1240</a></span>&#160;    uint16_t <a class="code" href="structrfb_fix_colour_map_entries_msg.html#a9df55ef4e031a4e226b8e582b3bf47f5">nColours</a>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="comment">/* Followed by nColours * 3 * uint16_t</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">       r1, g1, b1, r2, g2, b2, r3, g3, b3, ..., rn, bn, gn */</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;} <a class="code" href="structrfb_fix_colour_map_entries_msg.html">rfbFixColourMapEntriesMsg</a>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div>
<div class="line"><a name="l01247"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a48a26bef31bfa5a40498f828dfe47e86"> 1247</a></span>&#160;<span class="preprocessor">#define sz_rfbFixColourMapEntriesMsg 6</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment"> * SetEncodings - tell the RFB server which encoding types we accept.  Put them</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="comment"> * in order of preference, if we have any.  We may always receive raw</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment"> * encoding, even if we don&#39;t specify it here.</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div>
<div class="line"><a name="l01256"></a><span class="lineno"><a class="code" href="structrfb_set_encodings_msg.html"> 1256</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01257"></a><span class="lineno"><a class="code" href="structrfb_set_encodings_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1257</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_encodings_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbSetEncodings */</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"><a class="code" href="structrfb_set_encodings_msg.html#ac1a86b4f13c0cf801df27e12ce75f046"> 1258</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_encodings_msg.html#ac1a86b4f13c0cf801df27e12ce75f046">pad</a>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"><a class="code" href="structrfb_set_encodings_msg.html#a0263d086503182cf9834629bf4f0a857"> 1259</a></span>&#160;    uint16_t <a class="code" href="structrfb_set_encodings_msg.html#a0263d086503182cf9834629bf4f0a857">nEncodings</a>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">/* followed by nEncodings * uint32_t encoding types */</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;} <a class="code" href="structrfb_set_encodings_msg.html">rfbSetEncodingsMsg</a>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div>
<div class="line"><a name="l01263"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a0362ea20f0a87293badf73a5f95c122c"> 1263</a></span>&#160;<span class="preprocessor">#define sz_rfbSetEncodingsMsg 4</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment"> * FramebufferUpdateRequest - request for a framebuffer update.  If incremental</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment"> * is true then the client just wants the changes since the last update.  If</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="comment"> * false then it wants the whole of the specified rectangle.</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div>
<div class="line"><a name="l01272"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_request_msg.html"> 1272</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01273"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_request_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1273</a></span>&#160;    uint8_t <a class="code" href="structrfb_framebuffer_update_request_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbFramebufferUpdateRequest */</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_request_msg.html#a0cf939b984867566c9b2264ef1ff690a"> 1274</a></span>&#160;    uint8_t <a class="code" href="structrfb_framebuffer_update_request_msg.html#a0cf939b984867566c9b2264ef1ff690a">incremental</a>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_request_msg.html#a4dde988b1b2adba65ae3efa69f65d960"> 1275</a></span>&#160;    uint16_t <a class="code" href="structrfb_framebuffer_update_request_msg.html#a4dde988b1b2adba65ae3efa69f65d960">x</a>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_request_msg.html#ab0580f504a7428539be299fa71565f30"> 1276</a></span>&#160;    uint16_t <a class="code" href="structrfb_framebuffer_update_request_msg.html#ab0580f504a7428539be299fa71565f30">y</a>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_request_msg.html#a69e28057d97f59f81862a467cc6299fc"> 1277</a></span>&#160;    uint16_t <a class="code" href="structrfb_framebuffer_update_request_msg.html#a69e28057d97f59f81862a467cc6299fc">w</a>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"><a class="code" href="structrfb_framebuffer_update_request_msg.html#a8bf5747847b23fa2d39ef956e10bfbd3"> 1278</a></span>&#160;    uint16_t <a class="code" href="structrfb_framebuffer_update_request_msg.html#a8bf5747847b23fa2d39ef956e10bfbd3">h</a>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;} <a class="code" href="structrfb_framebuffer_update_request_msg.html">rfbFramebufferUpdateRequestMsg</a>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div>
<div class="line"><a name="l01281"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a569cef071a28d3ff4104bf53a50c16bd"> 1281</a></span>&#160;<span class="preprocessor">#define sz_rfbFramebufferUpdateRequestMsg 10</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment"> * KeyEvent - key press or release</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment"> * Keys are specified using the &quot;keysym&quot; values defined by the X Window System.</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment"> * For most ordinary keys, the keysym is the same as the corresponding ASCII</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment"> * value.  Other common keys are:</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment"> * BackSpace            0xff08</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment"> * Tab                  0xff09</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment"> * Return or Enter      0xff0d</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment"> * Escape               0xff1b</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment"> * Insert               0xff63</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment"> * Delete               0xffff</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment"> * Home                 0xff50</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment"> * End                  0xff57</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment"> * Page Up              0xff55</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment"> * Page Down            0xff56</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment"> * Left                 0xff51</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment"> * Up                   0xff52</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment"> * Right                0xff53</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment"> * Down                 0xff54</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment"> * F1                   0xffbe</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment"> * F2                   0xffbf</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment"> * ...                  ...</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment"> * F12                  0xffc9</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment"> * Shift                0xffe1</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment"> * Control              0xffe3</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment"> * Meta                 0xffe7</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment"> * Alt                  0xffe9</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div>
<div class="line"><a name="l01315"></a><span class="lineno"><a class="code" href="structrfb_key_event_msg.html"> 1315</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01316"></a><span class="lineno"><a class="code" href="structrfb_key_event_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1316</a></span>&#160;    uint8_t <a class="code" href="structrfb_key_event_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbKeyEvent */</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"><a class="code" href="structrfb_key_event_msg.html#a957456ebb10d8e0ec184480894c0b885"> 1317</a></span>&#160;    uint8_t <a class="code" href="structrfb_key_event_msg.html#a957456ebb10d8e0ec184480894c0b885">down</a>;                       <span class="comment">/* true if down (press), false if up */</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"><a class="code" href="structrfb_key_event_msg.html#a29720fa149448a5be70ff846b72c6dde"> 1318</a></span>&#160;    uint16_t <a class="code" href="structrfb_key_event_msg.html#a29720fa149448a5be70ff846b72c6dde">pad</a>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"><a class="code" href="structrfb_key_event_msg.html#a6d4ec8e4f3148d51041635da9986c3fa"> 1319</a></span>&#160;    uint32_t <a class="code" href="structrfb_key_event_msg.html#a6d4ec8e4f3148d51041635da9986c3fa">key</a>;                       <span class="comment">/* key is specified as an X keysym */</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;} <a class="code" href="structrfb_key_event_msg.html">rfbKeyEventMsg</a>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div>
<div class="line"><a name="l01322"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a402b280326d47ed6bae34d5ed3fc9b78"> 1322</a></span>&#160;<span class="preprocessor">#define sz_rfbKeyEventMsg 8</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment"> * PointerEvent - mouse/pen move and/or button press.</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div>
<div class="line"><a name="l01329"></a><span class="lineno"><a class="code" href="structrfb_pointer_event_msg.html"> 1329</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01330"></a><span class="lineno"><a class="code" href="structrfb_pointer_event_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1330</a></span>&#160;    uint8_t <a class="code" href="structrfb_pointer_event_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbPointerEvent */</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"><a class="code" href="structrfb_pointer_event_msg.html#adc9f53ed297c553ba023d66a7f28d4b0"> 1331</a></span>&#160;    uint8_t <a class="code" href="structrfb_pointer_event_msg.html#adc9f53ed297c553ba023d66a7f28d4b0">buttonMask</a>;         <span class="comment">/* bits 0-7 are buttons 1-8, 0=up, 1=down */</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"><a class="code" href="structrfb_pointer_event_msg.html#a4dde988b1b2adba65ae3efa69f65d960"> 1332</a></span>&#160;    uint16_t <a class="code" href="structrfb_pointer_event_msg.html#a4dde988b1b2adba65ae3efa69f65d960">x</a>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"><a class="code" href="structrfb_pointer_event_msg.html#ab0580f504a7428539be299fa71565f30"> 1333</a></span>&#160;    uint16_t <a class="code" href="structrfb_pointer_event_msg.html#ab0580f504a7428539be299fa71565f30">y</a>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;} <a class="code" href="structrfb_pointer_event_msg.html">rfbPointerEventMsg</a>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;</div>
<div class="line"><a name="l01336"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a011807ffd058c0dad7a2290d512b3eaf"> 1336</a></span>&#160;<span class="preprocessor">#define rfbButton1Mask 1</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a445554d5ce2eef65d2a6f92d5d7e1446"> 1337</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbButton2Mask 2</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a588881f4ddd0f29f90dc6a98f860c259"> 1338</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbButton3Mask 4</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae2e60562bbff75e66eb8bd4ae0baed2b"> 1339</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbButton4Mask 8</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ad05b447cc6cdd7b24a2a100a4a6838d0"> 1340</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbButton5Mask 16</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="preprocessor"></span><span class="comment">/* RealVNC 335 method */</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aedb66e425a8d166242c514aad34c0cb1"> 1342</a></span>&#160;<span class="preprocessor">#define rfbWheelUpMask rfbButton4Mask</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a68d6112e1da7acf5f6651c25f6c0128a"> 1343</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rfbWheelDownMask rfbButton5Mask</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01345"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aafb6eed1489db5760230a30f5790f2d3"> 1345</a></span>&#160;<span class="preprocessor">#define sz_rfbPointerEventMsg 6</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment"> * ClientCutText - the client has new text in its cut buffer.</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div>
<div class="line"><a name="l01353"></a><span class="lineno"><a class="code" href="structrfb_client_cut_text_msg.html"> 1353</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01354"></a><span class="lineno"><a class="code" href="structrfb_client_cut_text_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1354</a></span>&#160;    uint8_t <a class="code" href="structrfb_client_cut_text_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbClientCutText */</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"><a class="code" href="structrfb_client_cut_text_msg.html#a25e2be7e403f0b3769563e679051c9d7"> 1355</a></span>&#160;    uint8_t <a class="code" href="structrfb_client_cut_text_msg.html#a25e2be7e403f0b3769563e679051c9d7">pad1</a>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"><a class="code" href="structrfb_client_cut_text_msg.html#a06d0aede0e856b45130b687a03806893"> 1356</a></span>&#160;    uint16_t <a class="code" href="structrfb_client_cut_text_msg.html#a06d0aede0e856b45130b687a03806893">pad2</a>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"><a class="code" href="structrfb_client_cut_text_msg.html#aebb70c2aab3407a9f05334c47131a43b"> 1357</a></span>&#160;    uint32_t <a class="code" href="structrfb_client_cut_text_msg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="comment">/* followed by char text[length] */</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;} <a class="code" href="structrfb_client_cut_text_msg.html">rfbClientCutTextMsg</a>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div>
<div class="line"><a name="l01361"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#adacfcf2a833a9222052a1d4c34f6dae1"> 1361</a></span>&#160;<span class="preprocessor">#define sz_rfbClientCutTextMsg 8</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment"> * sf@2002 - Set Server Scale</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment"> * SetServerScale - Server must change the scale of the client buffer.</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div>
<div class="line"><a name="l01370"></a><span class="lineno"><a class="code" href="structrfb_set_scale_msg.html"> 1370</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_rfbSetScaleMsg {</div>
<div class="line"><a name="l01371"></a><span class="lineno"><a class="code" href="structrfb_set_scale_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1371</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_scale_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbSetScale */</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"><a class="code" href="structrfb_set_scale_msg.html#a616c0a72f0e4af38b93c736773ac7210"> 1372</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_scale_msg.html#a616c0a72f0e4af38b93c736773ac7210">scale</a>;              <span class="comment">/* Scale value 1&lt;sv&lt;n */</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"><a class="code" href="structrfb_set_scale_msg.html#a29720fa149448a5be70ff846b72c6dde"> 1373</a></span>&#160;    uint16_t <a class="code" href="structrfb_set_scale_msg.html#a29720fa149448a5be70ff846b72c6dde">pad</a>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;} <a class="code" href="structrfb_set_scale_msg.html">rfbSetScaleMsg</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div>
<div class="line"><a name="l01376"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a4cc9b6ef1ff98f8f8ac986fe1983e754"> 1376</a></span>&#160;<span class="preprocessor">#define sz_rfbSetScaleMsg 4</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment"> * Copyright (C) 2001 Harakan Software</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment"> * PalmVNC 1.4 &amp; 2.? SetScale Factor message </span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment"> * SetScaleFactor - tell the RFB server to alter the scale factor for the</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment"> * client buffer.</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html"> 1385</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01386"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1386</a></span>&#160;    uint8_t <a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbPalmVNCSetScaleFactor */</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div>
<div class="line"><a name="l01388"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html#a616c0a72f0e4af38b93c736773ac7210"> 1388</a></span>&#160;    uint8_t <a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html#a616c0a72f0e4af38b93c736773ac7210">scale</a>;              <span class="comment">/* Scale factor (positive non-zero integer) */</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"><a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html#a06d0aede0e856b45130b687a03806893"> 1389</a></span>&#160;    uint16_t <a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html#a06d0aede0e856b45130b687a03806893">pad2</a>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;} <a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html">rfbPalmVNCSetScaleFactorMsg</a>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#a72bdca6b4391a217038a9d3ef34ce150"> 1392</a></span>&#160;<span class="preprocessor">#define sz_rfbPalmVNCSetScaleFactorMsg (4)</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment"> * rdv@2002 - Set input status</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment"> * SetServerInput - Server input is dis/enabled</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div>
<div class="line"><a name="l01400"></a><span class="lineno"><a class="code" href="structrfb_set_server_input_msg.html"> 1400</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_rfbSetServerInputMsg {</div>
<div class="line"><a name="l01401"></a><span class="lineno"><a class="code" href="structrfb_set_server_input_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1401</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_server_input_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbSetScale */</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"><a class="code" href="structrfb_set_server_input_msg.html#ade818037fd6c985038ff29656089758d"> 1402</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_server_input_msg.html#ade818037fd6c985038ff29656089758d">status</a>;             <span class="comment">/* Scale value 1&lt;sv&lt;n */</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"><a class="code" href="structrfb_set_server_input_msg.html#a29720fa149448a5be70ff846b72c6dde"> 1403</a></span>&#160;    uint16_t <a class="code" href="structrfb_set_server_input_msg.html#a29720fa149448a5be70ff846b72c6dde">pad</a>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;} <a class="code" href="structrfb_set_server_input_msg.html">rfbSetServerInputMsg</a>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div>
<div class="line"><a name="l01406"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ae23addb27fed238a6796fb40a0d7eb19"> 1406</a></span>&#160;<span class="preprocessor">#define sz_rfbSetServerInputMsg 4</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment"> * rdv@2002 - Set SW</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment"> * SetSW - Server SW/full desktop</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div>
<div class="line"><a name="l01413"></a><span class="lineno"><a class="code" href="structrfb_set_s_w_msg.html"> 1413</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_rfbSetSWMsg {</div>
<div class="line"><a name="l01414"></a><span class="lineno"><a class="code" href="structrfb_set_s_w_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1414</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_s_w_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;                       <span class="comment">/* always rfbSetSW */</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"><a class="code" href="structrfb_set_s_w_msg.html#ade818037fd6c985038ff29656089758d"> 1415</a></span>&#160;    uint8_t <a class="code" href="structrfb_set_s_w_msg.html#ade818037fd6c985038ff29656089758d">status</a>;             </div>
<div class="line"><a name="l01416"></a><span class="lineno"><a class="code" href="structrfb_set_s_w_msg.html#a4dde988b1b2adba65ae3efa69f65d960"> 1416</a></span>&#160;    uint16_t <a class="code" href="structrfb_set_s_w_msg.html#a4dde988b1b2adba65ae3efa69f65d960">x</a>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"><a class="code" href="structrfb_set_s_w_msg.html#ab0580f504a7428539be299fa71565f30"> 1417</a></span>&#160;    uint16_t <a class="code" href="structrfb_set_s_w_msg.html#ab0580f504a7428539be299fa71565f30">y</a>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;} <a class="code" href="structrfb_set_s_w_msg.html">rfbSetSWMsg</a>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div>
<div class="line"><a name="l01420"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#aed092640ff9b162aca78a225617146c5"> 1420</a></span>&#160;<span class="preprocessor">#define sz_rfbSetSWMsg 6</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">/*-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment"> * Union of all client-&gt;server messages.</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div>
<div class="line"><a name="l01428"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html"> 1428</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">union </span>{</div>
<div class="line"><a name="l01429"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a1d127017fb298b889f4ba24752d08b8e"> 1429</a></span>&#160;    uint8_t <a class="code" href="unionrfb_client_to_server_msg.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#afc9d902d24e17eb40126095a99836509"> 1430</a></span>&#160;    <a class="code" href="structrfb_set_pixel_format_msg.html">rfbSetPixelFormatMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#afc9d902d24e17eb40126095a99836509">spf</a>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#ace96150ab59bef0c7aec30b0d0369601"> 1431</a></span>&#160;    <a class="code" href="structrfb_fix_colour_map_entries_msg.html">rfbFixColourMapEntriesMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#ace96150ab59bef0c7aec30b0d0369601">fcme</a>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a6562691d8f728fb2f21da7b1c2edfb0e"> 1432</a></span>&#160;    <a class="code" href="structrfb_set_encodings_msg.html">rfbSetEncodingsMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a6562691d8f728fb2f21da7b1c2edfb0e">se</a>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a04e93f721a566e1816ce719fb1020fad"> 1433</a></span>&#160;    <a class="code" href="structrfb_framebuffer_update_request_msg.html">rfbFramebufferUpdateRequestMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a04e93f721a566e1816ce719fb1020fad">fur</a>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a0531bb16950c8c316100bdf168ef71ed"> 1434</a></span>&#160;    <a class="code" href="structrfb_key_event_msg.html">rfbKeyEventMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a0531bb16950c8c316100bdf168ef71ed">ke</a>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a6f76015578ca16d89377c2ca6499bd69"> 1435</a></span>&#160;    <a class="code" href="structrfb_pointer_event_msg.html">rfbPointerEventMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a6f76015578ca16d89377c2ca6499bd69">pe</a>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a35072d71ee5c58e85b0acb11fb804cda"> 1436</a></span>&#160;    <a class="code" href="structrfb_client_cut_text_msg.html">rfbClientCutTextMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a35072d71ee5c58e85b0acb11fb804cda">cct</a>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a7d65220041926aeedce58bd52a3ebec8"> 1437</a></span>&#160;        <a class="code" href="structrfb_set_scale_msg.html">rfbSetScaleMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a7d65220041926aeedce58bd52a3ebec8">ssc</a>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a586d5968747e42f61b66a0dbddc6e1d0"> 1438</a></span>&#160;        <a class="code" href="structrfb_palm_v_n_c_set_scale_factor_msg.html">rfbPalmVNCSetScaleFactorMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a586d5968747e42f61b66a0dbddc6e1d0">pssf</a>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a08c29333cd42fc3a41f2913a1a9b95f0"> 1439</a></span>&#160;        <a class="code" href="structrfb_set_server_input_msg.html">rfbSetServerInputMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a08c29333cd42fc3a41f2913a1a9b95f0">sim</a>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#aa0b4b50047eed36615080f7de1ad25db"> 1440</a></span>&#160;        <a class="code" href="structrfb_file_transfer_msg.html">rfbFileTransferMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#aa0b4b50047eed36615080f7de1ad25db">ft</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#a3ae967a3ab9bc7e66b706e3cba2ee3cc"> 1441</a></span>&#160;        <a class="code" href="structrfb_set_s_w_msg.html">rfbSetSWMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#a3ae967a3ab9bc7e66b706e3cba2ee3cc">sw</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#ad07ca5c3c21584238b94482ff0f05f40"> 1442</a></span>&#160;        <a class="code" href="structrfb_text_chat_msg.html">rfbTextChatMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#ad07ca5c3c21584238b94482ff0f05f40">tc</a>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"><a class="code" href="unionrfb_client_to_server_msg.html#aa38cf87fbf5decd4affcf8f4b895381b"> 1443</a></span>&#160;        <a class="code" href="structrfb_xvp_msg.html">rfbXvpMsg</a> <a class="code" href="unionrfb_client_to_server_msg.html#aa38cf87fbf5decd4affcf8f4b895381b">xvp</a>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;} <a class="code" href="unionrfb_client_to_server_msg.html">rfbClientToServerMsg</a>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="comment">/* </span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="comment"> * vncauth.h - describes the functions provided by the vncauth library.</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div>
<div class="line"><a name="l01450"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#acdabab96588c600ae6cc384200727bb5"> 1450</a></span>&#160;<span class="preprocessor">#define MAXPWLEN 8</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"><a class="code" href="rfbproto_8h.html#ac52b34b4723d56286daea2c7fd950a69"> 1451</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CHALLENGESIZE 16</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="rfbproto_8h.html#a79fe3d03cfc08c1f285cb3e9c9058a52">rfbEncryptAndStorePasswd</a>(<span class="keywordtype">char</span> *passwd, <span class="keywordtype">char</span> *fname);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">char</span> *<a class="code" href="rfbproto_8h.html#a505e7dd2598e725b497c15f010c410fa">rfbDecryptPasswdFromFile</a>(<span class="keywordtype">char</span> *fname);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="rfbproto_8h.html#aa58f0c314c27ec25fa4e4f3d368d845d">rfbRandomBytes</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *bytes);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="rfbproto_8h.html#ab9188880328c0fdd7a37f8694a7e2c24">rfbEncryptBytes</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *bytes, <span class="keywordtype">char</span> *passwd);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 5 2014 07:14:27 for LibVNCServer/LibVNCClient by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
